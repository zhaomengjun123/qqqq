(function(t){function e(n){if(i[n])return i[n].exports;var o=i[n]={exports:{},id:n,loaded:!1};return t[n].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var i={};return e.m=t,e.c=i,e.p="//mlogin.vip.com/asserts/",e(0)})([function(t,e,i){"use strict";function n(t){if(y.emit("login-reg-win","render-loginReg-win"),!T){var e=!1;t.isviva&&(e=!0),w.loginWin.init({data:{captcha:0,text:0,isviva:e,registerTips:d,mloginApiSwitch:k,optsSource:t.source,isChangeWeixinBind:t.isChangeWeixinBind},loginSuccess:function(){w.loginWin.close(),t.onWinLogin({success:!0,channel:"login"})},loginFail:function(){t.onWinLogin({success:!1,channel:"login"})},thirdData:t.thirdData||{},className:t.className||""}),T=!0}}function o(t){m.weixinAutoLogin(window.weixinData).then(function(){var t=window.location.href.split("#");t[1]=t[1]?"#"+t[1]:"";var e=t[0].indexOf("?")===-1?"?":"&";window.location.href=""+t[0]+e+"time="+(new Date).getTime()+t[1]},function(){t&&t()})}function s(t){if(p.isWeixin())if(window.Mar&&Mar.Seed.request("body","load","H5_weixinlogin_mlogin",JSON.stringify({opts:t,host:location.host})),t.openid&&t.unionid){if($.extend(window.weixinData,{openid:t.openid,unionid:t.unionid,source:t.source||"",loginType:t.loginType||""}),t.isChangeWeixinBind)return n(t),w.loginWin.open(),g.getweixinInfoStatus(window.weixinData).then(function(t){1===t.status&&$(".J-mlogin-login-weixin").css("display","inline")}),!1;o(function(){n(t),w.loginWin.open()})}else m.getWeixinInfo(_,function(e){if(0===e.code){if($.extend(window.weixinData,e.data),t.isChangeWeixinBind)return n(t),w.loginWin.open(),g.getweixinInfoStatus(window.weixinData).then(function(t){1===t.status&&$(".J-mlogin-login-weixin").css("display","inline")}),!1;o(function(){n(t),w.loginWin.open()})}else e.code===-33?(window.localStorage.setItem("wxLoginPop",1),window.location.href=e.data.redirectUrl+"?fs="+e.data.fs+"&type="+e.data.type+"&src="+encodeURIComponent(location.href)):(n(t),w.loginWin.open())});else n(t),w.loginWin.open();var e=0;if(t.isviva?(e=1,window.Mar&&Mar.Seed.request("body","load","H5_login_pop",JSON.stringify({isviva:e.toString(),enter:"1"}))):window.Mar&&Mar.Seed.request("body","load","H5_login_first",JSON.stringify({enter:"1"})),window.localStorage){var i=localStorage.getItem("saveIphoneName"),s=localStorage.getItem("saveLoginName");i=i?f.decode(i):"",s=s?f.decode(s):"",/^1[3-9]\d{9}$/.test(i)&&$(".J-mlogin-ipt-mobile").val(i),(/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(s)||/^[\u4e00-\u9fa5_a-zA-Z0-9]+$/.test(s))&&$(".J-mlogin-ipt-username").val(s);var r=$(".J-mlogin-ipt-mobile").val();r&&r.length>0&&$("button").removeClass("disabled")}}function r(){Object.keys(C).forEach(function(t){var e=C[t];Object.keys(e).forEach(function(i){var n=e[i];y.on(t,i,n)})}),$("body").on("touchmove","#J-register-win",function(t){$(window).height()>=$(this).height()&&t.stopPropagation()}),$("body").on("touchmove","#J-login-win",function(t){$(window).height()>=$(this).height()&&t.stopPropagation()}),y.on("login-reg-win","open-win",function(t){t.type;$("body").css({padding:"0"})}),y.on("login-reg-win","close-win",function(t){t.type;$("body").css({padding:""})})}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return E?void g.getVivaTips(e).then(function(e){E=!1,e.registerTips&&(d='<i class="mlogin-rectangle mlogin-icon-rectangle-selected J-rectangle-agree"></i>'+e.registerTips,$("#J-footer-tips").html(d)),0!=e.mloginApiSwitch&&(k=!0),"function"==typeof t&&t()},function(){"function"==typeof t&&t()}):("function"==typeof t&&t(),!1)}function c(t){var e={usePop:!0,isWeixinLogin:!1,isChangeWeixinBind:!1,openid:"",unionid:"",isviva:!1,backUrl:"",onWinLogin:function(){},onBeforeJumpLogin:function(){}};$.extend(e,t),s(e),S||(S=!0,r())}i(1),i(2);var l=i(17),h=i(18),u=h.getId();window.weixinData={domain_id:u};var d,p=i(19),f=i(21),m=i(22),g=i(25),v=i(26),w={loginWin:v.loginWin,exchangeLogin:v.exchangeLogin},y=i(32),b=i(20),x=b.get("WAP[from]"),_={fs:x,type:3},S=!1,T=!1,C={},E=!0,k=!1,J={go:function(t){C=t.eventHandlers||{},l&&"function"==typeof l&&(l(),l=null),a(function(){c(t)},t.tipsData||{})},automaticLogin:function(t,e){var i={};return p.isWeixin()&&""!=t.openid&&""!=t.unionid?void m.weixinAutoLogin(t).then(function(t){i.re=t,i.success=!0,e&&e(i)},function(t){i.r=t,i.success=!1,e&&e(i)}):(i.success=!1,e&&e(i),!1)}};w.exchangeLogin(),t.exports=J,window.loginDeal=J},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=function(){function t(t){return null==t?String(t):U[G.call(t)]||"object"}function e(e){return"function"==t(e)}function n(t){return null!=t&&t==t.window}function o(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function s(e){return"object"==t(e)}function r(t){return s(t)&&!n(t)&&Object.getPrototypeOf(t)==Object.prototype}function a(t){return"number"==typeof t.length}function c(t){return N.call(t,function(t){return null!=t})}function l(t){return t.length>0?C.fn.concat.apply([],t):t}function h(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(t){return t in D?D[t]:D[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function d(t,e){return"number"!=typeof e||L[h(t)]?e:e+"px"}function p(t){var e,i;return A[t]||(e=O.createElement(t),O.body.appendChild(e),i=getComputedStyle(e,"").getPropertyValue("display"),e.parentNode.removeChild(e),"none"==i&&(i="block"),A[t]=i),A[t]}function f(t){return"children"in t?I.call(t.children):C.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function m(t,e){var i,n=t?t.length:0;for(i=0;i<n;i++)this[i]=t[i];this.length=n,this.selector=e||""}function g(t,e,i){for(T in e)i&&(r(e[T])||tt(e[T]))?(r(e[T])&&!r(t[T])&&(t[T]={}),tt(e[T])&&!tt(t[T])&&(t[T]=[]),g(t[T],e[T],i)):e[T]!==S&&(t[T]=e[T])}function v(t,e){return null==e?C(t):C(t).filter(e)}function w(t,i,n,o){return e(i)?i.call(t,n,o):i}function y(t,e,i){null==i?t.removeAttribute(e):t.setAttribute(e,i)}function b(t,e){var i=t.className||"",n=i&&i.baseVal!==S;return e===S?n?i.baseVal:i:void(n?i.baseVal=e:t.className=e)}function x(t){try{return t?"true"==t||"false"!=t&&("null"==t?null:+t+""==t?+t:/^[\[\{]/.test(t)?C.parseJSON(t):t):t}catch(e){return t}}function _(t,e){e(t);for(var i=0,n=t.childNodes.length;i<n;i++)_(t.childNodes[i],e)}var S,T,C,E,$,k,J=[],P=J.concat,N=J.filter,I=J.slice,O=window.document,A={},D={},L={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},H=/^\s*<(\w+|!)[^>]*>/,W=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,X=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,M=/^(?:body|html)$/i,j=/([A-Z])/g,Y=["val","css","html","text","data","width","height","offset"],F=["after","prepend","before","append"],q=O.createElement("table"),z=O.createElement("tr"),R={tr:O.createElement("tbody"),tbody:q,thead:q,tfoot:q,td:z,th:z,"*":O.createElement("div")},B=/complete|loaded|interactive/,V=/^[\w-]*$/,U={},G=U.toString,Z={},K=O.createElement("div"),Q={tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},tt=Array.isArray||function(t){return t instanceof Array};return Z.matches=function(t,e){if(!e||!t||1!==t.nodeType)return!1;var i=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(i)return i.call(t,e);var n,o=t.parentNode,s=!o;return s&&(o=K).appendChild(t),n=~Z.qsa(o,e).indexOf(t),s&&K.removeChild(t),n},$=function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},k=function(t){return N.call(t,function(e,i){return t.indexOf(e)==i})},Z.fragment=function(t,e,i){var n,o,s;return W.test(t)&&(n=C(O.createElement(RegExp.$1))),n||(t.replace&&(t=t.replace(X,"<$1></$2>")),e===S&&(e=H.test(t)&&RegExp.$1),e in R||(e="*"),s=R[e],s.innerHTML=""+t,n=C.each(I.call(s.childNodes),function(){s.removeChild(this)})),r(i)&&(o=C(n),C.each(i,function(t,e){Y.indexOf(t)>-1?o[t](e):o.attr(t,e)})),n},Z.Z=function(t,e){return new m(t,e)},Z.isZ=function(t){return t instanceof Z.Z},Z.init=function(t,i){var n;if(!t)return Z.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&H.test(t))n=Z.fragment(t,RegExp.$1,i),t=null;else{if(i!==S)return C(i).find(t);n=Z.qsa(O,t)}else{if(e(t))return C(O).ready(t);if(Z.isZ(t))return t;if(tt(t))n=c(t);else if(s(t))n=[t],t=null;else if(H.test(t))n=Z.fragment(t.trim(),RegExp.$1,i),t=null;else{if(i!==S)return C(i).find(t);n=Z.qsa(O,t)}}return Z.Z(n,t)},C=function(t,e){return Z.init(t,e)},C.extend=function(t){var e,i=I.call(arguments,1);return"boolean"==typeof t&&(e=t,t=i.shift()),i.forEach(function(i){g(t,i,e)}),t},Z.qsa=function(t,e){var i,n="#"==e[0],o=!n&&"."==e[0],s=n||o?e.slice(1):e,r=V.test(s);return t.getElementById&&r&&n?(i=t.getElementById(s))?[i]:[]:1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType?[]:I.call(r&&!n&&t.getElementsByClassName?o?t.getElementsByClassName(s):t.getElementsByTagName(e):t.querySelectorAll(e))},C.contains=O.documentElement.contains?function(t,e){return t!==e&&t.contains(e)}:function(t,e){for(;e&&(e=e.parentNode);)if(e===t)return!0;return!1},C.type=t,C.isFunction=e,C.isWindow=n,C.isArray=tt,C.isPlainObject=r,C.isEmptyObject=function(t){var e;for(e in t)return!1;return!0},C.inArray=function(t,e,i){return J.indexOf.call(e,t,i)},C.camelCase=$,C.trim=function(t){return null==t?"":String.prototype.trim.call(t)},C.uuid=0,C.support={},C.expr={},C.noop=function(){},C.map=function(t,e){var i,n,o,s=[];if(a(t))for(n=0;n<t.length;n++)i=e(t[n],n),null!=i&&s.push(i);else for(o in t)i=e(t[o],o),null!=i&&s.push(i);return l(s)},C.each=function(t,e){var i,n;if(a(t)){for(i=0;i<t.length;i++)if(e.call(t[i],i,t[i])===!1)return t}else for(n in t)if(e.call(t[n],n,t[n])===!1)return t;return t},C.grep=function(t,e){return N.call(t,e)},window.JSON&&(C.parseJSON=JSON.parse),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){U["[object "+e+"]"]=e.toLowerCase()}),C.fn={constructor:Z.Z,length:0,forEach:J.forEach,reduce:J.reduce,push:J.push,sort:J.sort,splice:J.splice,indexOf:J.indexOf,concat:function(){var t,e,i=[];for(t=0;t<arguments.length;t++)e=arguments[t],i[t]=Z.isZ(e)?e.toArray():e;return P.apply(Z.isZ(this)?this.toArray():this,i)},map:function(t){return C(C.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return C(I.apply(this,arguments))},ready:function(t){return B.test(O.readyState)&&O.body?t(C):O.addEventListener("DOMContentLoaded",function(){t(C)},!1),this},get:function(t){return t===S?I.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return J.every.call(this,function(e,i){return t.call(e,i,e)!==!1}),this},filter:function(t){return e(t)?this.not(this.not(t)):C(N.call(this,function(e){return Z.matches(e,t)}))},add:function(t,e){return C(k(this.concat(C(t,e))))},is:function(t){return this.length>0&&Z.matches(this[0],t)},not:function(t){var i=[];if(e(t)&&t.call!==S)this.each(function(e){t.call(this,e)||i.push(this)});else{var n="string"==typeof t?this.filter(t):a(t)&&e(t.item)?I.call(t):C(t);this.forEach(function(t){n.indexOf(t)<0&&i.push(t)})}return C(i)},has:function(t){return this.filter(function(){return s(t)?C.contains(this,t):C(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!s(t)?t:C(t)},last:function(){var t=this[this.length-1];return t&&!s(t)?t:C(t)},find:function(t){var e,n=this;return e=t?"object"==("undefined"==typeof t?"undefined":i(t))?C(t).filter(function(){var t=this;return J.some.call(n,function(e){return C.contains(e,t)})}):1==this.length?C(Z.qsa(this[0],t)):this.map(function(){return Z.qsa(this,t)}):C()},closest:function(t,e){var n=this[0],s=!1;for("object"==("undefined"==typeof t?"undefined":i(t))&&(s=C(t));n&&!(s?s.indexOf(n)>=0:Z.matches(n,t));)n=n!==e&&!o(n)&&n.parentNode;return C(n)},parents:function(t){for(var e=[],i=this;i.length>0;)i=C.map(i,function(t){if((t=t.parentNode)&&!o(t)&&e.indexOf(t)<0)return e.push(t),t});return v(e,t)},parent:function(t){return v(k(this.pluck("parentNode")),t)},children:function(t){return v(this.map(function(){return f(this)}),t)},contents:function(){return this.map(function(){return this.contentDocument||I.call(this.childNodes)})},siblings:function(t){return v(this.map(function(t,e){return N.call(f(e.parentNode),function(t){return t!==e})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return C.map(this,function(e){return e[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var i=e(t);if(this[0]&&!i)var n=C(t).get(0),o=n.parentNode||this.length>1;return this.each(function(e){C(this).wrapAll(i?t.call(this,e):o?n.cloneNode(!0):n)})},wrapAll:function(t){if(this[0]){C(this[0]).before(t=C(t));for(var e;(e=t.children()).length;)t=e.first();C(t).append(this)}return this},wrapInner:function(t){var i=e(t);return this.each(function(e){var n=C(this),o=n.contents(),s=i?t.call(this,e):t;o.length?o.wrapAll(s):n.append(s)})},unwrap:function(){return this.parent().each(function(){C(this).replaceWith(C(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var e=C(this);(t===S?"none"==e.css("display"):t)?e.show():e.hide()})},prev:function(t){return C(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return C(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(e){var i=this.innerHTML;C(this).empty().append(w(this,t,e,i))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(e){var i=w(this,t,e,this.textContent);this.textContent=null==i?"":""+i}):0 in this?this[0].textContent:null},attr:function(t,e){var i;return"string"!=typeof t||1 in arguments?this.each(function(i){if(1===this.nodeType)if(s(t))for(T in t)y(this,T,t[T]);else y(this,t,w(this,e,i,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(i=this[0].getAttribute(t))&&t in this[0]?this[0][t]:i:S},removeAttr:function(t){return this.each(function(){1===this.nodeType&&t.split(" ").forEach(function(t){y(this,t)},this)})},prop:function(t,e){return t=Q[t]||t,1 in arguments?this.each(function(i){this[t]=w(this,e,i,this[t])}):this[0]&&this[0][t]},data:function et(t,e){var i="data-"+t.replace(j,"-$1").toLowerCase(),et=1 in arguments?this.attr(i,e):this.attr(i);return null!==et?x(et):S},val:function(t){return 0 in arguments?this.each(function(e){this.value=w(this,t,e,this.value)}):this[0]&&(this[0].multiple?C(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(e){var i=C(this),n=w(this,t,e,i.offset()),o=i.offsetParent().offset(),s={top:n.top-o.top,left:n.left-o.left};"static"==i.css("position")&&(s.position="relative"),i.css(s)});if(!this.length)return null;var e=this[0].getBoundingClientRect();return{left:e.left+window.pageXOffset,top:e.top+window.pageYOffset,width:Math.round(e.width),height:Math.round(e.height)}},css:function it(e,i){if(arguments.length<2){var n,o=this[0];if(!o)return;if(n=getComputedStyle(o,""),"string"==typeof e)return o.style[$(e)]||n.getPropertyValue(e);if(tt(e)){var s={};return C.each(e,function(t,e){s[e]=o.style[$(e)]||n.getPropertyValue(e)}),s}}var it="";if("string"==t(e))i||0===i?it=h(e)+":"+d(e,i):this.each(function(){this.style.removeProperty(h(e))});else for(T in e)e[T]||0===e[T]?it+=h(T)+":"+d(T,e[T])+";":this.each(function(){this.style.removeProperty(h(T))});return this.each(function(){this.style.cssText+=";"+it})},index:function(t){return t?this.indexOf(C(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&J.some.call(this,function(t){return this.test(b(t))},u(t))},addClass:function(t){return t?this.each(function(e){if("className"in this){E=[];var i=b(this),n=w(this,t,e,i);n.split(/\s+/g).forEach(function(t){C(this).hasClass(t)||E.push(t)},this),E.length&&b(this,i+(i?" ":"")+E.join(" "))}}):this},removeClass:function(t){return this.each(function(e){if("className"in this){if(t===S)return b(this,"");E=b(this),w(this,t,e,E).split(/\s+/g).forEach(function(t){E=E.replace(u(t)," ")}),b(this,E.trim())}})},toggleClass:function(t,e){return t?this.each(function(i){var n=C(this),o=w(this,t,i,b(this));o.split(/\s+/g).forEach(function(t){(e===S?!n.hasClass(t):e)?n.addClass(t):n.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var e="scrollTop"in this[0];return t===S?e?this[0].scrollTop:this[0].pageYOffset:this.each(e?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var e="scrollLeft"in this[0];return t===S?e?this[0].scrollLeft:this[0].pageXOffset:this.each(e?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],e=this.offsetParent(),i=this.offset(),n=M.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(C(t).css("margin-top"))||0,i.left-=parseFloat(C(t).css("margin-left"))||0,n.top+=parseFloat(C(e[0]).css("border-top-width"))||0,n.left+=parseFloat(C(e[0]).css("border-left-width"))||0,{top:i.top-n.top,left:i.left-n.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||O.body;t&&!M.test(t.nodeName)&&"static"==C(t).css("position");)t=t.offsetParent;return t})}},C.fn.detach=C.fn.remove,["width","height"].forEach(function(t){var e=t.replace(/./,function(t){return t[0].toUpperCase()});C.fn[t]=function(i){var s,r=this[0];return i===S?n(r)?r["inner"+e]:o(r)?r.documentElement["scroll"+e]:(s=this.offset())&&s[t]:this.each(function(e){r=C(this),r.css(t,w(this,i,e,r[t]()))})}}),F.forEach(function(e,i){var n=i%2;C.fn[e]=function(){var e,o,s=C.map(arguments,function(i){return e=t(i),"object"==e||"array"==e||null==i?i:Z.fragment(i)}),r=this.length>1;return s.length<1?this:this.each(function(t,e){o=n?e:e.parentNode,e=0==i?e.nextSibling:1==i?e.firstChild:2==i?e:null;var a=C.contains(O.documentElement,o);s.forEach(function(t){if(r)t=t.cloneNode(!0);else if(!o)return C(t).remove();o.insertBefore(t,e),a&&_(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},C.fn[n?e+"To":"insert"+(i?"Before":"After")]=function(t){return C(t)[e](this),this}}),Z.Z.prototype=m.prototype=C.fn,Z.uniq=k,Z.deserializeValue=x,C.zepto=Z,C}();window.Zepto=n,void 0===window.$&&(window.$=n),function(t){function e(t){return t._zid||(t._zid=d++)}function i(t,i,s,r){if(i=n(i),i.ns)var a=o(i.ns);return(g[e(t)]||[]).filter(function(t){return t&&(!i.e||t.e==i.e)&&(!i.ns||a.test(t.ns))&&(!s||e(t.fn)===e(s))&&(!r||t.sel==r)})}function n(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function o(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function s(t,e){return t.del&&!w&&t.e in y||!!e}function r(t){return b[t]||w&&y[t]||t}function a(i,o,a,c,h,d,p){var f=e(i),m=g[f]||(g[f]=[]);o.split(/\s/).forEach(function(e){if("ready"==e)return t(document).ready(a);var o=n(e);o.fn=a,o.sel=h,o.e in b&&(a=function(e){var i=e.relatedTarget;if(!i||i!==this&&!t.contains(this,i))return o.fn.apply(this,arguments)}),o.del=d;var f=d||a;o.proxy=function(t){if(t=l(t),!t.isImmediatePropagationStopped()){try{t.data=c}catch(t){console.log(t.message)}var e=f.apply(i,t._args==u?[t]:[t].concat(t._args));return e===!1&&(t.preventDefault(),t.stopPropagation()),e}},o.i=m.length,m.push(o),"addEventListener"in i&&i.addEventListener(r(o.e),o.proxy,s(o,p))})}function c(t,n,o,a,c){var l=e(t);(n||"").split(/\s/).forEach(function(e){i(t,e,o,a).forEach(function(e){delete g[l][e.i],"removeEventListener"in t&&t.removeEventListener(r(e.e),e.proxy,s(e,c))})})}function l(e,i){return!i&&e.isDefaultPrevented||(i||(i=e),t.each(T,function(t,n){var o=i[t];e[t]=function(){return this[n]=x,o&&o.apply(i,arguments)},e[n]=_}),(i.defaultPrevented!==u?i.defaultPrevented:"returnValue"in i?i.returnValue===!1:i.getPreventDefault&&i.getPreventDefault())&&(e.isDefaultPrevented=x)),e}function h(t){var e,i={originalEvent:t};for(e in t)S.test(e)||t[e]===u||(i[e]=t[e]);return l(i,t)}var u,d=1,p=Array.prototype.slice,f=t.isFunction,m=function(t){return"string"==typeof t},g={},v={},w="onfocusin"in window,y={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};v.click=v.mousedown=v.mouseup=v.mousemove="MouseEvents",t.event={add:a,remove:c},t.proxy=function(i,n){var o=2 in arguments&&p.call(arguments,2);if(f(i)){var s=function(){return i.apply(n,o?o.concat(p.call(arguments)):arguments)};return s._zid=e(i),s}if(m(n))return o?(o.unshift(i[n],i),t.proxy.apply(null,o)):t.proxy(i[n],i);throw new TypeError("expected function")},t.fn.bind=function(t,e,i){return this.on(t,e,i)},t.fn.unbind=function(t,e){return this.off(t,e)},t.fn.one=function(t,e,i,n){return this.on(t,e,i,n,1)};var x=function(){return!0},_=function(){return!1},S=/^([A-Z]|returnValue$|layer[XY]$)/,T={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};t.fn.delegate=function(t,e,i){return this.on(e,t,i)},t.fn.undelegate=function(t,e,i){return this.off(e,t,i)},t.fn.live=function(e,i){return t(document.body).delegate(this.selector,e,i),this},t.fn.die=function(e,i){return t(document.body).undelegate(this.selector,e,i),this},t.fn.on=function(e,i,n,o,s){var r,l,d=this;return e&&!m(e)?(t.each(e,function(t,e){d.on(t,i,n,e,s)}),d):(m(i)||f(o)||o===!1||(o=n,n=i,i=u),o!==u&&n!==!1||(o=n,n=u),o===!1&&(o=_),d.each(function(u,d){s&&(r=function(t){return c(d,t.type,o),o.apply(this,arguments)}),i&&(l=function(e){var n,s=t(e.target).closest(i,d).get(0);if(s&&s!==d)return n=t.extend(h(e),{currentTarget:s,liveFired:d}),(r||o).apply(s,[n].concat(p.call(arguments,1)))}),a(d,e,o,n,i,l||r)}))},t.fn.off=function(e,i,n){var o=this;return e&&!m(e)?(t.each(e,function(t,e){o.off(t,i,e)}),o):(m(i)||f(n)||n===!1||(n=i,i=u),n===!1&&(n=_),o.each(function(){c(this,e,n,i)}))},t.fn.trigger=function(e,i){return e=m(e)||t.isPlainObject(e)?t.Event(e):l(e),e._args=i,this.each(function(){e.type in y&&"function"==typeof this[e.type]?this[e.type]():"dispatchEvent"in this?this.dispatchEvent(e):t(this).triggerHandler(e,i)})},t.fn.triggerHandler=function(e,n){var o,s;return this.each(function(r,a){o=h(m(e)?t.Event(e):e),o._args=n,o.target=a,t.each(i(a,e.type||e),function(t,e){if(s=e.proxy(o),o.isImmediatePropagationStopped())return!1})}),s},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){t.fn[e]=function(t){return 0 in arguments?this.bind(e,t):this.trigger(e)}}),t.Event=function(t,e){m(t)||(e=t,t=e.type);var i=document.createEvent(v[t]||"Events"),n=!0;if(e)for(var o in e)"bubbles"==o?n=!!e[o]:i[o]=e[o];return i.initEvent(t,n,!0),l(i)}}(n),function(t){function e(e,i,n){var o=t.Event(i);return t(e).trigger(o,n),!o.isDefaultPrevented()}function i(t,i,n,o){if(t.global)return e(i||w,n,o)}function n(e){e.global&&0===t.active++&&i(e,null,"ajaxStart")}function o(e){e.global&&!--t.active&&i(e,null,"ajaxStop")}function s(t,e){var n=e.context;return e.beforeSend.call(n,t,e)!==!1&&i(e,n,"ajaxBeforeSend",[t,e])!==!1&&void i(e,n,"ajaxSend",[t,e])}function r(t,e,n,o){var s=n.context,r="success";n.success.call(s,t,r,e),o&&o.resolveWith(s,[t,r,e]),i(n,s,"ajaxSuccess",[e,n,t]),c(r,e,n)}function a(t,e,n,o,s){var r=o.context;o.error.call(r,n,e,t),s&&s.rejectWith(r,[n,e,t]),i(o,r,"ajaxError",[n,o,t||e]),c(e,n,o)}function c(t,e,n){var s=n.context;n.complete.call(s,e,t),i(n,s,"ajaxComplete",[e,n]),o(n)}function l(){}function h(t){return t&&(t=t.split(";",2)[0]),t&&(t==S?"html":t==_?"json":b.test(t)?"script":x.test(t)&&"xml")||"text"}function u(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=u(e.url,e.data),e.data=void 0)}function p(e,i,n,o){return t.isFunction(i)&&(o=n,n=i,i=void 0),t.isFunction(n)||(o=n,n=void 0),{url:e,data:i,success:n,dataType:o}}function f(e,i,n,o){var s,r=t.isArray(i),a=t.isPlainObject(i);t.each(i,function(i,c){s=t.type(c),o&&(i=n?o:o+"["+(a||"object"==s||"array"==s?i:"")+"]"),!o&&r?e.add(c.name,c.value):"array"==s||!n&&"object"==s?f(e,c,n,i):e.add(i,c)})}var m,g,v=0,w=window.document,y=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,x=/^(?:text|application)\/xml/i,_="application/json",S="text/html",T=/^\s*$/,C=w.createElement("a");C.href=window.location.href,t.active=0,t.ajaxJSONP=function(e,i){if(!("type"in e))return t.ajax(e);var n,o,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"jsonp"+ ++v,h=w.createElement("script"),u=window[l],d=function(e){t(h).triggerHandler("error",e||"abort")},p={abort:d};return i&&i.promise(p),t(h).on("load error",function(s,c){clearTimeout(o),t(h).off().remove(),"error"!=s.type&&n?r(n[0],p,e,i):a(null,c||"error",p,e,i),window[l]=u,n&&t.isFunction(u)&&u(n[0]),u=n=void 0}),s(p,e)===!1?(d("abort"),p):(window[l]=function(){n=arguments},h.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),w.head.appendChild(h),e.timeout>0&&(o=setTimeout(function(){d("timeout")},e.timeout)),p)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:_,xml:"application/xml, text/xml",html:S,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var i,o,c=t.extend({},e||{}),p=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===c[m]&&(c[m]=t.ajaxSettings[m]);n(c),c.crossDomain||(i=w.createElement("a"),i.href=c.url,i.href=i.href,c.crossDomain=C.protocol+"//"+C.host!=i.protocol+"//"+i.host),c.url||(c.url=window.location.toString()),(o=c.url.indexOf("#"))>-1&&(c.url=c.url.slice(0,o)),d(c);var f=c.dataType,v=/\?.+=\?/.test(c.url);if(v&&(f="jsonp"),c.cache!==!1&&(e&&e.cache===!0||"script"!=f&&"jsonp"!=f)||(c.url=u(c.url,"_="+Date.now())),"jsonp"==f)return v||(c.url=u(c.url,c.jsonp?c.jsonp+"=?":c.jsonp===!1?"":"callback=?")),t.ajaxJSONP(c,p);var y,b=c.accepts[f],x={},_=function(t,e){x[t.toLowerCase()]=[t,e]},S=/^([\w-]+:)\/\//.test(c.url)?RegExp.$1:window.location.protocol,E=c.xhr(),$=E.setRequestHeader;if(p&&p.promise(E),c.crossDomain||_("X-Requested-With","XMLHttpRequest"),_("Accept",b||"*/*"),(b=c.mimeType||b)&&(b.indexOf(",")>-1&&(b=b.split(",",2)[0]),E.overrideMimeType&&E.overrideMimeType(b)),(c.contentType||c.contentType!==!1&&c.data&&"GET"!=c.type.toUpperCase())&&_("Content-Type",c.contentType||"application/x-www-form-urlencoded"),c.headers)for(g in c.headers)_(g,c.headers[g]);E.setRequestHeader=_;var k=!("async"in c)||c.async;if(E.open(c.type,c.url,k,c.username,c.password),E.onreadystatechange=function(){if(4==E.readyState){E.onreadystatechange=l,clearTimeout(y);var e,i=!1;if(E.status>=200&&E.status<300||304==E.status||0==E.status&&"file:"==S){f=f||h(c.mimeType||E.getResponseHeader("content-type")),e=E.responseText;try{"script"==f?(0,eval)(e):"xml"==f?e=E.responseXML:"json"==f&&(e=T.test(e)?null:t.parseJSON(e))}catch(n){i=n}i?a(i,"parsererror",E,c,p):r(e,E,c,p)}else a(E.statusText||null,E.status?"error":"abort",E,c,p)}},s(E,c)===!1)return E.abort(),a(null,"abort",E,c,p),E;if(c.xhrFields)for(g in c.xhrFields)E[g]=c.xhrFields[g];for(g in x)$.apply(E,x[g]);return c.timeout>0&&(y=setTimeout(function(){E.onreadystatechange=l,E.abort(),a(null,"timeout",E,c,p)},c.timeout)),E.send(c.data?c.data:null),E},t.get=function(){return t.ajax(p.apply(null,arguments))},t.post=function(){var e=p.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=p.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,i,n){if(!this.length)return this;var o,s=this,r=e.split(/\s/),a=p(e,i,n),c=a.success;return r.length>1&&(a.url=r[0],o=r[1]),a.success=function(e){s.html(o?t("<div>").html(e.replace(y,"")).find(o):e),c&&c.apply(s,arguments)},t.ajax(a),this};var E=encodeURIComponent;t.param=function(e,i){var n=[];return n.add=function(e,i){t.isFunction(i)&&(i=i()),null==i&&(i=""),this.push(E(e)+"="+E(i))},f(n,e,i),n.join("&").replace(/%20/g,"+")}}(n),function(t){t.fn.serializeArray=function(){var e,i,n=[],o=function s(t){return t.forEach?t.forEach(s):void n.push({name:e,value:t})};return this[0]&&t.each(this[0].elements,function(n,s){i=s.type,e=s.name,e&&"fieldset"!=s.nodeName.toLowerCase()&&!s.disabled&&"submit"!=i&&"reset"!=i&&"button"!=i&&"file"!=i&&("radio"!=i&&"checkbox"!=i||s.checked)&&o(t(s).val())}),n},t.fn.serialize=function(){var t=[];return this.serializeArray().forEach(function(e){t.push(encodeURIComponent(e.name)+"="+encodeURIComponent(e.value))}),t.join("&")},t.fn.submit=function(e){if(0 in arguments)this.bind("submit",e);else if(this.length){var i=t.Event("submit");this.eq(0).trigger(i),i.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(){try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(i){return null}}}}(),function(t){function e(t,e){var i=this.os={},n=this.browser={},o=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),s=t.match(/(Android);?[\s\/]+([\d.]+)?/),r=!!t.match(/\(Macintosh\; Intel /),a=t.match(/(iPad).*OS\s([\d_]+)/),c=t.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&t.match(/(iPhone\sOS)\s([\d_]+)/),h=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),u=/Win\d{2}|Windows/.test(e),d=t.match(/Windows Phone ([\d.]+)/),p=h&&t.match(/TouchPad/),f=t.match(/Kindle\/([\d.]+)/),m=t.match(/Silk\/([\d._]+)/),g=t.match(/(BlackBerry).*Version\/([\d.]+)/),v=t.match(/(BB10).*Version\/([\d.]+)/),w=t.match(/(RIM\sTablet\sOS)\s([\d.]+)/),y=t.match(/PlayBook/),b=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),x=t.match(/Firefox\/([\d.]+)/),_=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),S=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!b&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),C=T||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(n.webkit=!!o)&&(n.version=o[1]),s&&(i.android=!0,i.version=s[2]),l&&!c&&(i.ios=i.iphone=!0,i.version=l[2].replace(/_/g,".")),a&&(i.ios=i.ipad=!0,i.version=a[2].replace(/_/g,".")),c&&(i.ios=i.ipod=!0,i.version=c[3]?c[3].replace(/_/g,"."):null),d&&(i.wp=!0,i.version=d[1]),h&&(i.webos=!0,i.version=h[2]),p&&(i.touchpad=!0),g&&(i.blackberry=!0,i.version=g[2]),v&&(i.bb10=!0,i.version=v[2]),w&&(i.rimtabletos=!0,i.version=w[2]),y&&(n.playbook=!0),f&&(i.kindle=!0,i.version=f[1]),m&&(n.silk=!0,n.version=m[1]),!m&&i.android&&t.match(/Kindle Fire/)&&(n.silk=!0),b&&(n.chrome=!0,n.version=b[1]),x&&(n.firefox=!0,n.version=x[1]),_&&(i.firefoxos=!0,i.version=_[1]),S&&(n.ie=!0,n.version=S[1]),C&&(r||i.ios||u)&&(n.safari=!0,i.ios||(n.version=C[1])),T&&(n.webview=!0),i.tablet=!!(a||y||s&&!t.match(/Mobile/)||x&&t.match(/Tablet/)||S&&!t.match(/Phone/)&&t.match(/Touch/)),i.phone=!(i.tablet||i.ipod||!(s||l||h||g||v||b&&t.match(/Android/)||b&&t.match(/CriOS\/([\d.]+)/)||x&&t.match(/Mobile/)||S&&t.match(/Touch/)));
}e.call(t,navigator.userAgent,navigator.platform),t.__detect=e}(n),function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function o(t){return s?s+t:t.toLowerCase()}var s,r,a,c,l,h,u,d,p,f,m="",g={Webkit:"webkit",Moz:"",O:"o"},v=document.createElement("div"),w=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,y={};t.each(g,function(t,i){if(v.style[t+"TransitionProperty"]!==e)return m="-"+t.toLowerCase()+"-",s=i,!1}),r=m+"transform",y[a=m+"transition-property"]=y[c=m+"transition-duration"]=y[h=m+"transition-delay"]=y[l=m+"transition-timing-function"]=y[u=m+"animation-name"]=y[d=m+"animation-duration"]=y[f=m+"animation-delay"]=y[p=m+"animation-timing-function"]="",t.fx={off:s===e&&v.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:o("TransitionEnd"),animationEnd:o("AnimationEnd")},t.fn.animate=function(i,n,o,s,r){return t.isFunction(n)&&(s=n,o=e,n=e),t.isFunction(o)&&(s=o,o=e),t.isPlainObject(n)&&(o=n.easing,s=n.complete,r=n.delay,n=n.duration),n&&(n=("number"==typeof n?n:t.fx.speeds[n]||t.fx.speeds._default)/1e3),r&&(r=parseFloat(r)/1e3),this.anim(i,n,o,s,r)},t.fn.anim=function(o,s,m,g,v){var b,x,_,S={},T="",C=this,E=t.fx.transitionEnd,$=!1;if(s===e&&(s=t.fx.speeds._default/1e3),v===e&&(v=0),t.fx.off&&(s=0),"string"==typeof o)S[u]=o,S[d]=s+"s",S[f]=v+"s",S[p]=m||"linear",E=t.fx.animationEnd;else{x=[];for(b in o)w.test(b)?T+=b+"("+o[b]+") ":(S[b]=o[b],x.push(n(b)));T&&(S[r]=T,x.push(r)),s>0&&"object"===("undefined"==typeof o?"undefined":i(o))&&(S[a]=x.join(", "),S[c]=s+"s",S[h]=v+"s",S[l]=m||"linear")}return _=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(E,_)}else t(this).unbind(E,_);$=!0,t(this).css(y),g&&g.call(this)},s>0&&(this.bind(E,_),setTimeout(function(){$||_.call(C)},1e3*(s+v)+25)),this.size()&&this.get(0).clientLeft,this.css(S),s<=0&&setTimeout(function(){C.each(function(){_.call(this)})},0),this},v=null}(n),function(t,e){function i(i,n,o,s,r){"function"!=typeof n||r||(r=n,n=e);var a={opacity:o};return s&&(a.scale=s,i.css(t.fx.cssPrefix+"transform-origin","0 0")),i.animate(a,n,null,r)}function n(e,n,o,s){return i(e,n,0,o,function(){r.call(t(this)),s&&s.call(this)})}var o=window.document,s=(o.documentElement,t.fn.show),r=t.fn.hide,a=t.fn.toggle;t.fn.show=function(t,n){return s.call(this),t===e?t=0:this.css("opacity",0),i(this,t,1,"1,1",n)},t.fn.hide=function(t,i){return t===e?r.call(this):n(this,t,"0,0",i)},t.fn.toggle=function(i,n){return i===e||"boolean"==typeof i?a.call(this,i):this.each(function(){var e=t(this);e["none"==e.css("display")?"show":"hide"](i,n)})},t.fn.fadeTo=function(t,e,n){return i(this,t,e,null,n)},t.fn.fadeIn=function(t,e){var i=this.css("opacity");return i>0?this.css("opacity",0):i=1,s.call(this).fadeTo(t,i,e)},t.fn.fadeOut=function(t,e){return n(this,t,null,e)},t.fn.fadeToggle=function(e,i){return this.each(function(){var n=t(this);n[0==n.css("opacity")||"none"==n.css("display")?"fadeIn":"fadeOut"](e,i)})}}(n),function(t){var e,i=[];t.fn.remove=function(){return this.each(function(){this.parentNode&&("IMG"===this.tagName&&(i.push(this),this.src="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",e&&clearTimeout(e),e=setTimeout(function(){i=[]},6e4)),this.parentNode.removeChild(this))})}}(n),function(t){function e(e,n){var c=e[a],l=c&&o[c];if(void 0===n)return l||i(e);if(l){if(n in l)return l[n];var h=r(n);if(h in l)return l[h]}return s.call(t(e),n)}function i(e,i,s){var c=e[a]||(e[a]=++t.uuid),l=o[c]||(o[c]=n(e));return void 0!==i&&(l[r(i)]=s),l}function n(e){var i={};return t.each(e.attributes||c,function(e,n){0==n.name.indexOf("data-")&&(i[r(n.name.replace("data-",""))]=t.zepto.deserializeValue(n.value))}),i}var o={},s=t.fn.data,r=t.camelCase,a=t.expando="Zepto"+ +new Date,c=[];t.fn.data=function(n,o){return void 0===o?t.isPlainObject(n)?this.each(function(e,o){t.each(n,function(t,e){i(o,t,e)})}):0 in this?e(this[0],n):void 0:this.each(function(){i(this,n,o)})},t.fn.removeData=function(e){return"string"==typeof e&&(e=e.split(/\s+/)),this.each(function(){var i=this[a],n=i&&o[i];n&&t.each(e||n,function(t){delete n[e?r(this):t]})})},["remove","empty"].forEach(function(e){var i=t.fn[e];t.fn[e]=function(){var t=this.find("*");return"remove"===e&&(t=t.add(this)),t.removeData(),i.call(this)}})}(n),function(t){t.Callbacks=function(e){e=t.extend({},e);var i,n,o,s,r,a,c=[],l=!e.once&&[],h=function d(t){for(i=e.memory&&t,n=!0,a=s||0,s=0,r=c.length,o=!0;c&&a<r;++a)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,c&&(l?l.length&&d(l.shift()):i?c.length=0:u.disable())},u={add:function p(){if(c){var n=c.length,p=function a(i){t.each(i,function(t,i){"function"==typeof i?e.unique&&u.has(i)||c.push(i):i&&i.length&&"string"!=typeof i&&a(i)})};p(arguments),o?r=c.length:i&&(s=n,h(i))}return this},remove:function(){return c&&t.each(arguments,function(e,i){for(var n;(n=t.inArray(i,c,n))>-1;)c.splice(n,1),o&&(n<=r&&--r,n<=a&&--a)}),this},has:function(e){return!(!c||!(e?t.inArray(e,c)>-1:c.length))},empty:function(){return r=c.length=0,this},disable:function(){return c=l=i=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,i||u.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!c||n&&!l||(e=e||[],e=[t,e.slice?e.slice():e],o?l.push(e):h(e)),this},fire:function(){return u.fireWith(this,arguments)},fired:function(){return!!n}};return u}}(n),function(t){function e(i){var n=[["resolve","done",t.Callbacks({once:1,memory:1}),"resolved"],["reject","fail",t.Callbacks({once:1,memory:1}),"rejected"],["notify","progress",t.Callbacks({memory:1})]],o="pending",s={state:function(){return o},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var i=arguments;return e(function(e){t.each(n,function(n,o){var a=t.isFunction(i[n])&&i[n];r[o[1]](function(){var i=a&&a.apply(this,arguments);if(i&&t.isFunction(i.promise))i.promise().done(e.resolve).fail(e.reject).progress(e.notify);else{var n=this===s?e.promise():this,r=a?[i]:arguments;e[o[0]+"With"](n,r)}})}),i=null}).promise()},promise:function(e){return null!=e?t.extend(e,s):s}},r={};return t.each(n,function(t,e){var i=e[2],a=e[3];s[e[1]]=i.add,a&&i.add(function(){o=a},n[1^t][2].disable,n[2][2].lock),r[e[0]]=function(){return r[e[0]+"With"](this===r?s:this,arguments),this},r[e[0]+"With"]=i.fireWith}),s.promise(r),i&&i.call(r,r),r}var i=Array.prototype.slice;t.when=function(n){var o,s,r,a=i.call(arguments),c=a.length,l=0,h=1!==c||n&&t.isFunction(n.promise)?c:0,u=1===h?n:e(),d=function(t,e,n){return function(s){e[t]=this,n[t]=arguments.length>1?i.call(arguments):s,n===o?u.notifyWith(e,n):--h||u.resolveWith(e,n)}};if(c>1)for(o=new Array(c),s=new Array(c),r=new Array(c);l<c;++l)a[l]&&t.isFunction(a[l].promise)?a[l].promise().done(d(l,r,a)).fail(u.reject).progress(d(l,s,o)):--h;return h||u.resolveWith(r,a),u.promise()},t.Deferred=e}(n),function(t){function e(e){return e=t(e),!(!e.width()&&!e.height())&&"none"!==e.css("display")}function i(t,e){t=t.replace(/=#\]/g,'="#"]');var i,n,o=a.exec(t);if(o&&o[2]in r&&(i=r[o[2]],n=o[3],t=o[1],n)){var s=Number(n);n=isNaN(s)?n.replace(/^["']|["']$/g,""):s}return e(t,i,n)}var n=t.zepto,o=n.qsa,s=n.matches,r=t.expr[":"]={visible:function(){if(e(this))return this},hidden:function(){if(!e(this))return this},selected:function(){if(this.selected)return this},checked:function(){if(this.checked)return this},parent:function(){return this.parentNode},first:function(t){if(0===t)return this},last:function(t,e){if(t===e.length-1)return this},eq:function(t,e,i){if(t===i)return this},contains:function(e,i,n){if(t(this).text().indexOf(n)>-1)return this},has:function(t,e,i){if(n.qsa(this,i).length)return this}},a=new RegExp("(.*):(\\w+)(?:\\(([^)]+)\\))?$\\s*"),c=/^\s*>/,l="Zepto"+ +new Date;n.qsa=function(e,s){return i(s,function(i,r,a){try{var h;!i&&r?i="*":c.test(i)&&(h=t(e).addClass(l),i="."+l+" "+i);var u=o(e,i)}catch(d){throw console.error("error performing selector: %o",s),d}finally{h&&h.removeClass(l)}return r?n.uniq(t.map(u,function(t,e){return r.call(t,e,u,a)})):u})},n.matches=function(t,e){return i(e,function(e,i,n){return(!e||s(t,e))&&(!i||i.call(t,null,n)===t)})}}(n),function(t){function e(t,e,i,n){return Math.abs(t-e)>=Math.abs(i-n)?t-e>0?"Left":"Right":i-n>0?"Up":"Down"}function i(){h=null,d.last&&(d.el.trigger("longTap"),d={})}function n(){h&&clearTimeout(h),h=null}function o(){a&&clearTimeout(a),c&&clearTimeout(c),l&&clearTimeout(l),h&&clearTimeout(h),a=c=l=h=null,d={}}function s(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function r(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var a,c,l,h,u,d={},p=750;t(document).ready(function(){var f,m,g,v,w=0,y=0;"MSGesture"in window&&(u=new MSGesture,u.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(d.el.trigger("swipe"),d.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(v=r(e,"down"))&&!s(e)||(g=v?e:e.touches[0],e.touches&&1===e.touches.length&&d.x2&&(d.x2=void 0,d.y2=void 0),f=Date.now(),m=f-(d.last||f),d.el=t("tagName"in g.target?g.target:g.target.parentNode),a&&clearTimeout(a),d.x1=g.pageX,d.y1=g.pageY,m>0&&m<=250&&(d.isDoubleTap=!0),d.last=f,h=setTimeout(i,p),u&&v&&u.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(v=r(t,"move"))&&!s(t)||(g=v?t:t.touches[0],n(),d.x2=g.pageX,d.y2=g.pageY,w+=Math.abs(d.x1-d.x2),y+=Math.abs(d.y1-d.y2))}).on("touchend MSPointerUp pointerup",function(i){(v=r(i,"up"))&&!s(i)||(n(),d.x2&&Math.abs(d.x1-d.x2)>30||d.y2&&Math.abs(d.y1-d.y2)>30?l=setTimeout(function(){d.el&&(d.el.trigger("swipe"),d.el.trigger("swipe"+e(d.x1,d.x2,d.y1,d.y2))),d={}},0):"last"in d&&(w<30&&y<30?c=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,d.el&&d.el.trigger(e),d.isDoubleTap?(d.el&&d.el.trigger("doubleTap"),d={}):a=setTimeout(function(){a=null,d.el&&d.el.trigger("singleTap"),d={}},250)},0):d={}),w=y=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(n),function(t){t.fn.end=function(){return this.prevObject||t()},t.fn.andSelf=function(){return this.add(this.prevObject||t())},"filter,add,not,eq,first,last,find,closest,parents,parent,children,siblings".split(",").forEach(function(e){var i=t.fn[e];t.fn[e]=function(){var t=i.apply(this,arguments);return t.prevObject=this,t}})}(n)},function(t,e){},,,,,,,,,,,,,,,function(t,e){"use strict";function i(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="https://captcha.vip.com/getbootstrap",t.onload=function(){window.VipSecureCode&&VipSecureCode.init()},document.body.appendChild(t)}t.exports=i},function(t,e){"use strict";function i(){var t=1;switch(window.location.host){case"mcheckout.vip.com":t=8;break;case"mst-vis-admin.vip.com":t=7;break;case"mst-admin.vip.vip.com":t=6;break;case"weixin.vip.com":t=5;break;case"viva.vip.com":t=4;break;case"mst.vip.com":t=3;break;case"m.vipglobal.hk":t=2}return t}e.getId=i},function(t,e,i){"use strict";var n=i(20),o=window,s=o.location,r={genLocation:function(t){var e=t.split("&"),i={};return e.map(function(t){var e=t.split("=");if(e.length){var n=e[0],o=e.slice(1,e.length).join("=");i[n]=o}}),i},query:function(t){var e=s.search.substr(1),i=e.split("&"),n={};return i.map(function(t){var e=t.split("=");e[0]&&(n[e[0]]=e[1])}),t?n[t]:n},queryV2:function(t){var e=r.genLocation(s.search.substr(1));return t?e[t]:e},getSubmitData:function(t){t=t||$("body");var e=t.find("[data-submit]").filter(":visible"),i={};return e.each(function(){var t=$(this),e=t.attr("name"),n=t.data("submit"),o=t[0].nodeName.toLowerCase();if(""===n&&(n=t.val()),"i"!==o||(e=t.parent().parent().attr("name"),t.hasClass("selected")))return e||"i"==o||n.indexOf(",")==-1?void(i[e]=n):void n.split("|").forEach(function(t,e){var n=t.split(",");i[n[0]]=n[1]})}),i},isWeixin:function(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"==t.match(/MicroMessenger/i)},getClientType:function(){if(n.get("client"))return n.get("client");var t=window.navigator.userAgent.toLowerCase();return t.match(/iphone/i)?"iphone":t.match(/android/i)?"android":t.match(/ipad/i)?"ipad":"wap"},parseObjToUrlStr:function(t){var e=[];for(var i in t)e.push(i+"="+t[i]);return e.join("&")},spellUrl:function(t,e){if(!t)return"";if(!e)return t;var i=Object.keys(e).map(function(t){var i=decodeURIComponent(e[t]);return i=encodeURIComponent(i),t+"="+i}).join("&"),n="?";return t.indexOf("?")!==-1&&(n="&"),""+t+n+i}};t.exports=r},function(t,e,i){var n,o;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};(function(s){n=s,o="function"==typeof n?n.call(e,i,e,t):n,!(void 0!==o&&(t.exports=o))})(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(i){function n(e,o,s){var r;if(arguments.length>1){if(s=t({path:"/"},n.defaults,s),"number"==typeof s.expires){var a=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s.expires),s.expires=a}try{r=JSON.stringify(o),/^[\{\[]/.test(r)&&(o=r)}catch(c){}return o=encodeURIComponent(String(o)),o=o.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)),e=e.replace(/%(23|24|26|2B|5E|5B|5D|60|7C)/g,decodeURIComponent),e=e.replace(/[\(\)]/g,escape),document.cookie=[e,"=",o,s.expires&&"; expires="+s.expires.toUTCString(),s.path&&"; path="+s.path,s.domain&&"; domain="+s.domain,s.secure?"; secure":""].join("")}e||(r={});for(var l=document.cookie?document.cookie.split("; "):[],h=/(%[0-9A-Z]{2})+/g,u=0;u<l.length;u++){var d=l[u].split("="),p=d[0].replace(h,decodeURIComponent),f=d.slice(1).join("=");'"'===f.charAt(0)&&(f=f.slice(1,-1));try{if(f=i&&i(f,p)||f.replace(h,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(c){}if(e===p){r=f;break}e||(r[p]=f)}catch(c){}}return r}return n.get=n.set=n,n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}return e()})},function(t,e){"use strict";var i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t){var e,n,o,s,r,a,c,l="",h=0;for(t=i._utf8_encode(t);h<t.length;)e=t.charCodeAt(h++),n=t.charCodeAt(h++),o=t.charCodeAt(h++),s=e>>2,r=(3&e)<<4|n>>4,a=(15&n)<<2|o>>6,c=63&o,isNaN(n)?a=c=64:isNaN(o)&&(c=64),l=l+this._keyStr.charAt(s)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(c);return l},decode:function(t){var e,n,o,s,r,a,c,l="",h=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");h<t.length;)s=this._keyStr.indexOf(t.charAt(h++)),r=this._keyStr.indexOf(t.charAt(h++)),a=this._keyStr.indexOf(t.charAt(h++)),c=this._keyStr.indexOf(t.charAt(h++)),e=s<<2|r>>4,n=(15&r)<<4|a>>2,o=(3&a)<<6|c,l+=String.fromCharCode(e),64!=a&&(l+=String.fromCharCode(n)),64!=c&&(l+=String.fromCharCode(o));return l=i._utf8_decode(l)},_utf8_encode:function(t){t=t.replace(/\r\n/g,"\n");for(var e="",i=0;i<t.length;i++){var n=t.charCodeAt(i);128>n?e+=String.fromCharCode(n):n>127&&2048>n?(e+=String.fromCharCode(n>>6|192),e+=String.fromCharCode(63&n|128)):(e+=String.fromCharCode(n>>12|224),e+=String.fromCharCode(n>>6&63|128),e+=String.fromCharCode(63&n|128))}return e},_utf8_decode:function(t){for(var e="",i=0,n=0,o=0,s=0;s<t.length;)i=t.charCodeAt(s),128>i?(e+=String.fromCharCode(i),s++):i>191&&224>i?(n=t.charCodeAt(s+1),e+=String.fromCharCode((31&i)<<6|63&n),s+=2):(n=t.charCodeAt(s+1),o=t.charCodeAt(s+2),e+=String.fromCharCode((15&i)<<12|(63&n)<<6|63&o),s+=3);return e}};t.exports=i},function(t,e,i){"use strict";function n(t){return T.req({data:t,url:k.GETWEIXININFOSTATUS,type:"POST",xhrFields:{withCredentials:!0}})}function o(t){return T.req({data:t,url:k.WEIXINAUTOLOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function s(t){return T.req({data:t,url:k.WEIXINREGISTERLOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function r(t,e){return $.ajax({type:"GET",url:k.GETWEIXININFO,data:t,dataType:"jsonp",jsonp:"jsonp",timeout:2e3,success:function(t){e(t)},error:function(t){e(t)}})}function a(t){return T.req({data:t,url:k.GETNEWCAPTCHA,type:"POST",xhrFields:{withCredentials:!0}})}function c(t){var e=k.NEWREGISTER;return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:e,type:"POST",xhrFields:{withCredentials:!0}})}function l(t){var e=k.NEWLOGIN;return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:e,type:"POST",xhrFields:{withCredentials:!0}})}function h(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,url:k.LOGIN,type:"POST",xhrFields:{withCredentials:!0}})}function u(t){return T.req({data:t,url:k.REGISTER,type:"POST",xhrFields:{withCredentials:!0}})}function d(t){return T.req({data:t,url:k.AUTHCODE,type:"POST",xhrFields:{withCredentials:!0}})}function p(t){return T.req({data:t,url:k.CAPTCHA,type:"POST",xhrFields:{withCredentials:!0}})}function f(t){return T.req({data:t,url:k.CAPTCHAFRESHEN,type:"POST",xhrFields:{withCredentials:!0}})}function m(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.CHECK})}function g(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.EXCHANGETOKEN})}function v(t){return C.isWeixin()&&$.extend(t,window.weixinData),T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.SELECTACCOUNT})}function w(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETVIVATIPS})}function y(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETUISWITCH})}function b(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.THIRDAUTOLOGIN})}function x(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.ISLOGINED})}function _(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.GETTHIRDINFO})}function S(t){return T.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:k.THIRDTRYLOGIN})}i(1);var T=i(23),C=i(19),E="//mlogin.vip.com/ajaxapi-user.html",k={LOGIN:E+"?act=loginV2",REGISTER:E+"?act=register",AUTHCODE:E+"?act=create",CHECK:E+"?act=check",CAPTCHA:E+"?act=send",CAPTCHAFRESHEN:E+"?act=freshen",NEWLOGIN:E+"?act=newLogin",NEWREGISTER:E+"?act=newRegister",GETNEWCAPTCHA:E+"?act=getNewCaptcha",GETWEIXININFO:"//weixin-api.vip.com/user/getUserInfo",WEIXINREGISTERLOGIN:E+"?act=weixinRegisterLogin",GETWEIXININFOSTATUS:E+"?act=weixinInfoStatus",WEIXINAUTOLOGIN:E+"?act=weixinAutoLogin",EXCHANGETOKEN:E+"?act=exchangeToken",SELECTACCOUNT:E+"?act=selectAccount",GETVIVATIPS:E+"?act=getVivaTips",GETUISWITCH:E+"?act=getUiSwitch",THIRDAUTOLOGIN:E+"?act=thirdAutoLogin",ISLOGINED:E+"?act=isLogined",GETTHIRDINFO:E+"?act=getThirdInfo",THIRDTRYLOGIN:E+"?act=thirdTryLogin"};e.login=h,e.register=u,e.newRegister=c,e.newLogin=l,e.authCode=d,e.sendCaptcha=p,e.freshenCaptcha=f,e.checkSmscode=m,e.getNewCaptcha=a,e.getweixinInfoStatus=n,e.weixinRegisterLogin=s,e.getWeixinInfo=r,e.weixinAutoLogin=o,e.exchangeToken=g,e.selectAccount=v,e.getVivaTips=w,e.getUiSwitch=y,e.thirdAutoLogin=b,e.isLogined=x,e.getThirdInfo=_,e.thirdTryLogin=S},function(t,e,i){"use strict";function n(t){function e(e){var n=t.url.replace(/\//g,"_");void 0!==e.code&&s(n+"_fail_"+(e.code||999999)),i.reject(e)}var i=$.Deferred();if(!t.url)throw Error("request url required");t.type||(t.type="GET"),t.timeout||(t.timeout=1e4),delete t.success,delete t.error,delete t.complete,t.data||(t.data={}),t.data._t=Date.now(),t.cache=!1;var n=t.url.replace(/\//g,"_");$.ajax(t).done(function(t){t&&1==t.code?i.resolve(t.data||{}):(t.msg=t.msg||"网络超时，请重试！",s("error",{code:t.code,event:n,error:n+":"+t.code,info:t.msg}),e(t))}).fail(function(t,i,o){var r=t.status;s("error",{status:r,event:n,error:n+":"+i,errType:i,info:i+"_"+(o||"")}),e(o&&o.msg||{msg:"网络超时，请重试！"})});var o=i.promise();return $.isFunction(r)&&o.fail(r),o}function o(t){r=t}var s=i(24),r=null;e.req=e.request=n,e.filter=o},function(t,e,i){"use strict";var n=i(19),o=function(t){var e,i=[];for(e in t)(t[e]||0===t[e])&&i.push(e+"="+t[e]);return i.join("&")},s=function(t,e){return $?$.inArray(t,e):e.indexOf(t)},r=function(t,e){var i;return this.baseReportUrl="//stat.vipstatic.com/h5front/report",this.setErrUrl=function(t,e){var i=this.baseReportUrl,r=n.query();e=e||{};var a=o({resolution:!(!r.height||!r.width)&&r.height+"*"+r.width,area_id:r.area_id||!1,network:r.net||!1,app_name:r.app_name||!1,warehouse:r.warehouse||!1,app_version:r.app_version||!1,client:r.client||!1,mid:r.mars_cid||!1,app_channel:r.mobile_channel||!1,idfv:r.idfv||!1,protocol_version:r.protocol_version||!1,pathname:encodeURIComponent(location.pathname.replace(/[\/\.]/g,"_")),service_code:e.code||!1,http_status:e.status,exception_type:s(e.errType,["timeout","abort"])>-1?"page_exception_network":!!e.errType&&"page_exception_service",request_url:e.event||!1,rpc_code:e.error||!1,domain:location.host||!1,exception_info:!!e.info&&encodeURIComponent(e.info)});return i=i+"?"+a+"&r="+Math.random()},this.request=function(t){var e=new Image(1,1);return e.onload=e.onerror=e.onabort=function(){e.onload=e.onerror=e.onabort=null,e=null},e.src=t,t},i=this.setErrUrl(t,e),this.request(i)},a=function(t,e){new r(t,e)};t.exports=a},function(t,e,i){"use strict";function n(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.CAPTCHAPRE})}function o(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.PWDLOGIN})}function s(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.SELECTACCOUNT})}function r(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.EXCHANGETOKENLOGIN})}function a(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.WEIXINREGISTERLOGIN})}function c(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.WEIXININFOSTATUS})}function l(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.GETVIVATIPS})}function h(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.THIRDTRYLOGIN})}function u(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.SENDSMS})}function d(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.CHECKV2})}function p(t){return m.isWeixin()&&$.extend(t,window.weixinData),f.req({data:t,type:"POST",xhrFields:{withCredentials:!0},url:v.MOBILELOGIN})}i(1);var f=i(23),m=i(19),g="//mlogin-api.vip.com/ajaxapi-user.html",v={CAPTCHAPRE:g+"?act=captchaPre",PWDLOGIN:g+"?act=pwdLoginV2",SELECTACCOUNT:g+"?act=selectAccountV2",EXCHANGETOKENLOGIN:g+"?act=exchangeTokenLogin",WEIXINREGISTERLOGIN:g+"?act=weixinRegisterLogin",WEIXININFOSTATUS:g+"?act=weixinInfoStatus",GETVIVATIPS:g+"?act=getVivaTips",SENDSMS:g+"?act=sendSms",CHECKV2:g+"?act=checkV2",MOBILELOGIN:g+"?act=mobileLogin",THIRDTRYLOGIN:g+"?act=thirdTryLogin"};e.captchaPre=n,e.pwdLogin=o,e.selectAccount=s,e.exchangeToken=r,e.weixinRegisterLogin=a,e.getweixinInfoStatus=c,e.getVivaTips=l,e.sendSms=u,e.checkV2=d,e.mobileLogin=p,e.thirdTryLogin=h},function(t,e,i){"use strict";function n(){return L.mobileFastValidate(ct[0],ht[0],st,function(t){t.domain_id=V,t.serialno=tt.getOption("serialno")})}function o(){var t=at.find(".J-mlogin-ipt-username")[0],e=at.find(".J-mlogin-ipt-password")[0],i=$(".J-mlogin-ipt-captcha:visible")[0];return L.accountNormalValidate(t,e,i)}function s(t){if(t.preventDefault(),rt.cancel=!1,rt.close=!1,$(t.currentTarget).hasClass("disabled"))return!1;var e=o();return"string"==typeof e?(C.showError(ut,e),!1):(it=H().show(),void dt.checkNeed(function(t){if(e=o(),rt.cancel||rt.close)return!1;if("string"==typeof e)return t?$(".J-secure-text").text(e):C.showError(ut,e),it.hide(),!1;e.third_data=K.thirdData||{};var i=$(".J-mlogin-ipt-captcha").data("captcha-type");if(i&&(e.captcha_type=i),C.hideError(ut),rt.captchaTypePwd)if(e.captchaType=rt.captchaTypePwd,e.captchaId=rt.captchaId,e.ticket=rt.ticket,window.VipSecureCode){var n=VipSecureCode.getFpData();e.info=n?JSON.stringify(n):F}else e.info=F;e.sid=rt.sid,e.scene="LOGIN_WAP",e.source=nt,k.pwdLogin(e).then(function(e){t&&t.close(),I.emit("login-reg-win","login-success"),K.loginSuccess&&K.loginSuccess(),z.open(e.msg||"登录成功",2e3),J.send("H5_active_new_login",'{"type":"pwd","status":"1","way":"-99","enter":"3"}')},function(e){r(e,t),J.send("H5_active_new_login",'{"type":"pwd","status":"0","status_des":"'+e.msg+'","way":"-99","enter":"3"}')}).always(function(){it.hide()}),A.send()}))}function r(t,e){switch(+t.code){case-10033:e&&e.close(),a(t);break;case-10034:e&&e.close(),t.data.accounts.length>1&&c(t);break;case 71300:e?($(".J-secure-text").text(t.msg||"未知错误，请刷新页面重试"),dt.freshCaptcha(!0)):(C.showError(ut,t.msg),I.emit("login-reg-win","login-fail"),T(K.loginFail)&&K.loginFail());break;default:e&&e.close(),C.showError(ut,t.msg),I.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail()}}function a(t){var e="";1===ot&&(e="&isChangeWeixinBind="+ot),window.localStorage.setItem("_change_weixin_bind_data",JSON.stringify(window.weixinData));var i=window.location.href,n=i.replace(/mlogin_username=[^&]*/gi,"").replace(/mlogin_processId=[^&]*/gi,""),o=encodeURIComponent(""+n+(i.indexOf("?")!=-1?"&":"?")+"mlogin_username="+at.find(".J-mlogin-ipt-username")[0].value+"&mlogin_processId="+t.data.processId+"&mlogin_exchange=1"+e);U.set("newlogin_thirdData",(K||{}).thirdData||{}),window.location.href="https://defend.vip.com/index/app/?challengeId="+t.data.challengeId+"&sign="+t.data.challengeSign+"&callback="+o,J.send("mlogin_defend_touchoff")}function c(t){var e=t.data.accounts.length;B.conf({content:'<div class="J-mlogin-userlist mlogin-login"></div>',width:"80%",btns:['<i class="icon-dialog-close"></i>'],clsName:"m-user-choose"}).open(),$(".J-mlogin-userlist").html(N({data:t.data.accounts,displayName:$(".J-mlogin-ipt-username").val(),chooseTips:"mloginUser"})),2===e&&$(".user-choose-list").addClass("z-user-item-two"),$(document).ready(function(){var t=$(".user-choose-inner");t.find("[data-src]").one("error",function(t){$(this).attr("src","https://mlogin.vip.com/asserts/img/icons/user-pic.png")}).each(function(t,e){e.src=$(e).data("src")})}),$(".J-user-choose").on("click",function(){var e="";t.data&&t.data.processId&&(e=t.data.processId);var i=$(this),n={processId:i.attr("data-id")||e,accountId:i.find(".user-item-name").attr("data-id"),username:C.encryptMobile(at.find(".J-mlogin-ipt-username")[0].value)};l(n)})}function l(t){B.close(),t.third_data=K.thirdData||{},t.source=nt,k.selectAccount(t).then(function(t){$("#mg-dialog").removeClass("m-user-choose"),K.loginSuccess&&K.loginSuccess(),z.open(t.msg||"登录成功",2e3),J.send("H5_setpwd_new_click",'{"status":"1","way":"userNameLogin","enter":"1"}')},function(t){return t.code===-10033?(a(t),!1):void C.showError(ut,t.msg)})}function h(){k.weixinRegisterLogin(window.weixinData).then(function(){window.localStorage.removeItem("wxLoginPop");var t=window.location.href.indexOf("?")!=-1?"&":"?";window.location.href=location.href+t+"time="+(new Date).getTime()},function(t){C.showError(ut,t.msg)})}function u(t){window.mlogin_isfromLogin=!0,$("#J-register-win .J-mlogin-back").removeClass("icon-register-close"),t.preventDefault(),O.close(),$(".J-error-msg").removeClass("m-login-error"),I.emit("login-reg-win","toggle-to-register"),at.find("form")[0].reset(),C.hideError(ut)}function d(t){t.preventDefault(),$(".J-login-wrap,.J-mobile-fast-login-header,.J-password-step,.J-second-step,.J-error-msg").hide(),$(".J-mobile-fast-login,.J-models-login-footer,.J-models-login-logo,.J-mlogin-close").show(),$("#J-models-login-wrap").addClass("models-login-bg-write"),$(".J-error-msg").addClass("m-login-error")}function p(t){t.preventDefault(),tt.stopCountDown(),$(".J-error-msg").addClass("m-login-error"),$("#J-models-login-wrap").addClass("models-login-bg-write"),$(".J-mlogin-ipt").val(""),$("button").addClass("disabled"),setTimeout(function(){$(".J-mlogin-get-login-authcode").html("获取验证码"),$(".J-mlogin-get-login-authcode").addClass("disabled")},500),"0"===Q?($(".J-mobile-fast-login-header,.J-mobile-fast-login,.J-password-step,.J-second-step").hide(),$(".J-models-login-logo,.J-login-wrap,.J-models-login-footer,.J-mlogin-close").show()):($(".J-mobile-fast-login-header,.J-login-wrap,.J-password-step,.J-second-step").hide(),$(".J-models-login-logo,.J-mobile-fast-login,.J-models-login-footer,.J-mlogin-close").show()),$(".J-mlogin-captcha-item").length>0&&$(".J-mlogin-captcha-item").remove(),C.hideError(ut)}function f(){$("#J-models-login-wrap").addClass("models-login-bg-write"),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-error-msg").addClass("m-login-error"),$(".J-mobile-fast-login-header,.J-mobile-fast-login").hide(),$(".J-models-login-logo,.J-login-wrap,.J-models-login-footer,.J-mlogin-close").show(),$(".J-mlogin-captcha-item").length>0&&$(".J-mlogin-captcha-item").remove(),C.hideError(ut),$(".J-mobile-fast-login-header").show(),$(".J-models-login-footer,.J-models-login-logo").hide()}function m(t){t.preventDefault(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-error-msg").addClass("m-login-error"),$(".J-login-wrap,.J-models-login-logo,.J-mlogin-close").show(),$(".J-mobile-fast-login-header,.J-mobile-fast-login,.J-models-login-footer").hide(),C.hideError(ut)}function g(t){if(t.preventDefault(),!$(".J-rectangle-agree").hasClass("mlogin-icon-rectangle-selected"))return C.showError(ut,"您必须同意唯品会服务条款后，才能进行下一步"),!1;if($(t.currentTarget).hasClass("disabled"))return!1;var e=n();if("string"==typeof e)return C.showError(ut,e),!1;if(e.third_data=K.thirdData||{},st){if(rt.captchaTypePwd?(e.captchaType=rt.captchaTypePwd,e.captchaId=rt.captchaId,e.ticket=rt.ticket):(e.uuid=tt.getOption("uuid"),e.processId=tt.getOption("processId"),e.authScene=tt.getOption("authScene")),window.VipSecureCode){var i=VipSecureCode.getFpData();e.info=i?JSON.stringify(i):F}else e.info=F;e.domain_id=V,e.smsTicket=tt.getOption("smsTicket")||""}it=H().show(),C.hideError(ut);var o=st?k.checkV2:E.checkSmscode;o(e).then(function(t){var e=t.msg||"登录成功";st&&(e="登录成功"),I.emit("login-reg-win","register-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),J.send("H5_active_new_login",'{"type":"sms","status":"1","way":"login","enter":"1"}')},function(t){var e=void 0;t.code&&2===t.code||70309===t.code?($(".J-mobile-fast-login").hide(),!t.data.op||1!==t.data.op&&"2"!==t.data.op?($(".J-second-step").show(),$(".J-mobile-fast-login-header").show(),$(".J-models-login-logo, .J-models-login-footer").hide(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-mobile-fast-login-header h2").html("设置密码"),$(".J-error-msg").removeClass("m-login-error"),J.send("H5_active_new_login",'{"type":"sms","status":"1","way":"reg","enter":"1"}')):($(".J-password-step").show(),$(".J-mobile-fast-login-header").show(),$(".J-models-login-logo, .J-models-login-footer").hide(),$("#J-models-login-wrap").removeClass("models-login-bg-write"),$(".J-mobile-fast-login-header h2").html("设置密码"),$(".J-error-msg").removeClass("m-login-error"),J.send("H5_active_new_login",'{"type":"sms","status":"1","way":"login","enter":"1"}'))):t.code&&200===t.code?(e=t.msg,
B.conf({content:'<p class="dialog-content-tips">'+e+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),$(".J-mlogin-get-login-authcode").removeClass("disabled"),1===e&&("1"===Q?m(t):f())}}).open(),J.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+e+'","enter":"2"}')):t.code&&210===t.code?(e=t.msg,B.conf({content:'<p class="dialog-content-tips">'+e+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),$(".J-mlogin-get-login-authcode").removeClass("disabled"),1===e&&("1"===Q?m(t):f())}}).open(),J.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+e+'","enter":"2"}')):(C.showError(ut,t.msg),J.send("H5_active_new_login",'{"type":"sms","status":"0","status_des":"'+t.msg+'","enter":"1","code":"'+t.code+'"}'),I.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail())}).always(function(){it.hide()}),A.send()}function v(t){t.preventDefault(),"password"===$(t.currentTarget).siblings(".J-mlogin-ipt").attr("type")?($(t.currentTarget).siblings(".J-mlogin-ipt")[0].setAttribute("type","text"),$(t.currentTarget).addClass("mlogin-ipt-show")):($(t.currentTarget).siblings(".J-mlogin-ipt")[0].setAttribute("type","password"),$(t.currentTarget).removeClass("mlogin-ipt-show"))}function w(t){if(t.preventDefault(),$(t.currentTarget).hasClass("disabled"))return!1;var e=L.onlyPasswordValidate(at.find(".J-mlogin-ipt-password-second")[0],function(t){t.mobile=tt.getOption("mobile")||C.encryptMobile($(".J-mlogin-ipt-mobile").val()),t.domain_id=V,t.serialno=tt.getOption("serialno")});if("string"==typeof e)return C.showError(ut,e),!1;e.third_data=K.thirdData||{},it=H().show(),C.hideError(ut),st&&(e.processId=tt.getOption("processId"),e.authScene=1);var i=st?k.mobileLogin:E.newRegister;i(e).then(function(t){var e=t.msg||"注册成功";st&&(e="注册成功"),I.emit("login-reg-win","register-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),J.send("H5_setpwd_new_click",'{"status":"1","way":"reg","enter":"2"}')},function(t){C.showError(ut,t.msg),J.send("H5_setpwd_new_click",'{"status":"0","status_des":"'+t.msg+'","way":"reg","enter":"2","code":"'+t.code+'"}'),I.emit("login-reg-win","register-success"),K.loginFail&&K.loginFail()}).always(function(){it.hide()}),A.send()}function y(t){t.preventDefault();var e=L.fullPasswordValidate(lt[0],ct[0],ht[0],function(t){t.domain_id=V,t.serialno=tt.getOption("serialno")});if("string"==typeof e)return C.showError(ut,e),!1;e.third_data=K.thirdData||{},it=H().show(),C.hideError(ut),st&&(e.processId=tt.getOption("processId"),e.authScene=2);var i=st?k.mobileLogin:E.newLogin;i(e).then(function(t){var e=t.msg||"登录成功";st&&(e="登录成功"),tt.setOption("serialno",t.serialno),I.emit("login-reg-win","login-success"),K.loginSuccess&&K.loginSuccess(),z.open(e,2e3),J.send("H5_setpwd_new_click",'{"status":"1","way":"login","enter":"1"}')},function(t){C.showError(ut,t.msg),J.send("H5_setpwd_new_click",'{"status":"0","status_des":"'+t.msg+'","way":"login","enter":"1","code":"'+t.code+'"}'),I.emit("login-reg-win","login-fail"),K.loginFail&&K.loginFail(),it.hide()})}function b(){window.localStorage&&localStorage.setItem("saveLoginName",M.encode($(".J-mlogin-ipt-username").val()))}function x(){window.localStorage&&localStorage.setItem("saveIphoneName",M.encode($(".J-mlogin-ipt-mobile").val()))}function _(t){t.preventDefault();var e=$(t.currentTarget),i="mlogin-icon-rectangle-selected",n="mlogin-icon-rectangle-normal";e.hasClass(i)?(e.removeClass(i),e.addClass(n)):(e.removeClass(n),e.addClass(i))}function S(){at.on("click",".J-mlogin-clear",C.clearIptVal),at.on("click",".J-mlogin-show-password",v),at.on("click",".J-mlogin-submit",s),at.on("click",".J-mlogin-mobile-new,.J-mlogin-back-new",d),at.on("click",".J-mlogin-login-normal",m),at.find(".J-mlogin-ipt-username").on("blur",b),at.find(".J-mlogin-ipt-mobile").on("blur",x),at.on("click",".J-mlogin-get-login-authcode",function(t){tt.getSmsCaptcha(t,nt,st)}),at.on("click",".J-mlogin-password-btn",y),at.on("click",".J-register-btn",w),at.on("click",".J-mlogin-toggle",u),at.on("click",".J-login-models-submit",g),at.find(".J-mlogin-ipt").on("focus",C.focusClearBtn),at.find(".J-mlogin-ipt").on("blur",C.blurClearBtn),at.find(".J-mlogin-ipt").on("keyup input change",C.btnAbled),at.on("click",".J-mlogin-back",p),at.on("click",".J-mlogin-backi",p),at.find(".J-mlogin-ipt-mobile").on("keyup input change",C.btnAbled),at.on("click",".J-mlogin-login-weixin",h),at.on("click",".J-mlogin-close",function(t){t.preventDefault(),ft.close(),O.close(),C.hideError(ut),I.emit("login-reg-win","close-login-win",{})}),at.on("click",".J-rectangle-agree",_),$("body").on("focus",".J-mlogin-ipt-captcha",function(){$(".J-secure-text").text("")}),$("body").on("click",".J-refresh-img",function(){dt.freshCaptcha()})}var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},C=i(27),E=i(22),k=i(25),J=i(29),P=i(30),N=i(31),I=i(32),O=i(33)(),A=i(36),D=i(18),L=i(37),H=i(39),W=i(43),X=i(19),M=i(21),j=i(20),Y=j.get("mars_cid")||"",F=JSON.stringify({cid:Y}),q=i(44),z=i(48)(),R=i(51),B=i(53)(),V=D.getId();B.setNoAnimate(!0),i(1);var U=i(56);window.storageAPI=U;var G=i(57),Z=null,K=null,Q="0",tt="",et=!1,it="",nt="",ot=0,st=!1,rt={},at=void 0,ct=void 0,lt=void 0,ht=void 0,ut=void 0,dt={checkNeed:function(t){if($(".J-mlogin-captcha-item").length)t&&t();else{$(".J-mlogin-submit").addClass("disabled");var e=F;if(window.VipSecureCode){var i=VipSecureCode.getFpData();e=i?JSON.stringify(i):F}var n=at.find(".J-mlogin-ipt-username")[0],o={loginName:C.encryptMobile(n.value),scene:"LOGIN_WAP",source:nt,info:e};k.captchaPre(o).then(function(e){et=!1,it.hide(),$(".J-mlogin-submit").removeClass("disabled"),e.sid&&(rt.sid=e.sid),e.captchaType&&0!==Number(e.captchaType)?(rt.captchaTypePwd=e.captchaType,rt.captchaId=e.captchaId||"",window.VipSecureCode?W.vipCaptchaShow(e,rt,nt,t):(z.open("加载验证码组件失败"),J.send("H5_safe_mlogin_components_load_failed",JSON.stringify({source:nt,capatchType:rt.captchaTypePwd,way:"accountlogin"})))):t&&t()},function(t){et=!1,it.hide(),C.showError(ut,t.msg)})}},freshCaptcha:function(t){if(!et){et=!0;var e={domain_id:V,username:C.encryptMobile(at.find(".J-mlogin-ipt-username")[0].value)};E.getNewCaptcha(e).then(function(e){if(et=!1,e.captchaType)switch(String(e.captchaType)){case"1":e.pic&&"string"==typeof e.pic?($(".J-mlogin-ipt-captcha").val("").data("captcha-type",1),$(".J-code-img").attr("src","data:image/png;base64,"+e.pic),!(t===!0)&&$(".J-secure-text").text(""),$(".J-secure-check-title").addClass("doc").removeClass("img")):$(".J-secure-text").text("未知错误，请刷新页面重试");break;case"6":var i=null;try{i=JSON.parse(e.pic||"")}catch(n){console.log("json parse error !"),i={}}i&&i.qp&&i.ap&&"string"==typeof i.qp&&"string"==typeof i.ap?($(".J-question-img").attr("src","data:image/png;base64,"+i.qp),$(".J-code-img").attr("src","data:image/png;base64,"+i.ap),$(".J-mlogin-ipt-captcha").val("").data("captcha-type",6),!(t===!0)&&$(".J-secure-text").text(""),$(".J-secure-check-title").addClass("img").removeClass("doc")):$(".J-secure-text").text("未知错误，请刷新页面重试");break;default:$(".J-secure-text").text("未知错误，请刷新页面重试")}else $(".J-secure-text").text("未知错误，请刷新页面重试")},function(){et=!1})}}},pt=function(){var t=C.query(),e=t.mlogin_exchange;if(e){J.send("mlogin_defend_touchoffsuccess");var i="1",n=t.mlogin_username,o=t.mlogin_processId,s=t.challengeToken,r=t.challengeId,a=U.get("newlogin_thirdData")||{};U.remove("newlogin_thirdData");var c=void 0;if(s){var l=window.localStorage.getItem("_change_weixin_bind_data");window.localStorage.removeItem("_change_weixin_bind_data");try{l=JSON.parse(l)}catch(h){l={}}window.weixinData=l;var u={source:nt};k.exchangeToken($.extend(u,{isNew:i,username:n,processId:o,challengeToken:s,challengeId:r,third_data:a})).then(function(){X.isWeixin()&&"1"===String(t.isChangeWeixinBind)?(z.open("切换绑定成功",2e3),c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},500),J.send("mlogin_defend_success")):(c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},500),z.open("恭喜，身份校验成功。",5e3),J.send("mlogin_defend_success"))},function(t){c=C.useHistory("exchangeLogin",{mlogin_exchange:""}),setTimeout(function(){window.location.href=c},2e3),z.open(t.msg||"系统网络异常，请稍后重试！",5e3)})}else z.open("抱歉，身份校验失败，无法登录，请24小时后重试。",5e3),C.useHistory("exchangeLogin",{mlogin_exchange:""})}},ft={init:function(t){return t.data||window.console.warn(new Error("loginWin 组件，属性 data 是必选项")),t.data.isviva&&(Q="1"),nt=t.data.optsSource,st=t.data.mloginApiSwitch,t.data.isChangeWeixinBind&&(ot=1),t.id=t.id?t.id:"J-login-win",t.className=t.className?t.className+" login-reg-win models-wrapper":"login-reg-win models-wrapper",Z||(Z=new q({id:t.id,className:t.className})),Z.conf({content:P({data:t.data}),freeze:!0,scrollLock:!1}),K=t,at=$("#"+t.id),ut=at.find(".J-error-msg"),ct=at.find(".J-mlogin-ipt-mobile"),lt=at.find(".J-login-password"),ht=at.find(".J-mlogin-ipt-authcode"),tt=new R({$mobile:ct,$authCode:ht,$getAuthCode:$(".J-mlogin-get-login-authcode"),$errorBox:ut},{domain_id:V,isviva:Q,enter:1,toggleLogin:f,toggleToNormalLogin:m}),S(),this},open:function(){window.mlogin_isfromLogin=!1,$("#J-register-win .J-mlogin-back").addClass("icon-register-close"),Z.open();var t=!0,e=$(".J-login-wrap").find(".J-mlogin-ipt");return setTimeout(function(){e.each(function(){""===this.value&&(t=!1)}),t&&at.find(".J-mlogin-submit").removeClass("disabled")},500),$("body,html").css({"overflow-y":"hidden",height:"100%"}),G||(G=new G("#J-models-login-wrap",{preventDefault:!1,scrollbars:!0,mouseWheel:!0,click:!0,interactiveScrollbars:!0,fadeScrollbars:!0})),I.emit("login-reg-win","open-win",{type:"login"}),this},close:function(){return Z.close(),$("body,html").css({"overflow-y":"",height:""}),I.emit("login-reg-win","close-win",{type:"login"}),this}};e.loginWin=ft,e.exchangeLogin=pt},function(t,e,i){"use strict";var n=i(28),o=i(21),s={};s.encrypt=function(t,e){var i="",s=Date.parse(new Date)/1e3;return i=o.encode(t)+":"+o.encode(s.toString())+":"+o.encode(n(e))},s.encryptPassword=function(t){var e="";return e=o.encode(n(t))},s.encryptMobile=function(t){var e="";return e=o.encode(t)},s.showError=function(t,e){e=e||"未知错误，请刷新页面重试",t.show().find("span").html(e)},s.hideError=function(t){t.hide().find("span").html("")},s.toggleClearBtn=function(t){""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},s.blurClearBtn=function(t){var e=$(t.currentTarget);setTimeout(function(){e.siblings(".J-mlogin-clear").hide()},1e3)},s.focusClearBtn=function(t){""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},s.btnAbled=function(t){var e=$(t.currentTarget).parent().parent();$(t.currentTarget).hasClass("f-password-width-fix-target")&&(e=e.parent());var i=e.find(".J-mlogin-ipt").eq(0),n=e.find(".J-mlogin-ipt").eq(1),o=e.find(".ui-button"),s=e.find("button");$(".J-error-msg").hide().find("span").html(""),i.val()?(s[0]&&(s.html().length<6?s.removeClass("disabled"):s.addClass("disabled")),n[0]?n.val()?o.removeClass("disabled"):o.addClass("disabled"):o.removeClass("disabled")):(o.addClass("disabled"),s[0]&&s.addClass("disabled")),""===$(t.currentTarget).val()?$(t.currentTarget).siblings(".J-mlogin-clear").hide():$(t.currentTarget).siblings(".J-mlogin-clear").show()},s.clearIptVal=function(t){t.preventDefault(),$(t.currentTarget).siblings(".J-mlogin-ipt").val(""),$(t.currentTarget).hide(),$("button").addClass("disabled"),s.btnAbled(t)},s.focusInput=function(t){t.preventDefault(),$(t.target).hasClass("J-mlogin-show-password")||$(t.currentTarget).find("input").focus()},s.closeWin=function(t){t.close()},s.query=function(t){var e=location.search.substr(1),i=e.split("&"),n={};return i.map(function(t){var e=t.split("=");if(2===e.length)n[e[0]]=e[1];else if(e.length>2){var i=e[0],o=e.slice(1,e.length).join("=");n[i]=o}}),t?n[t]:n},s.useHistory=function(t,e){var i=location.search,n=i.substr(1),o=n.split("&"),s={};o.map(function(t){var e=t.split("=");if(2===e.length)s[e[0]]=e[1];else if(e.length>2){var i=e[0],n=e.slice(1,e.length).join("=");s[i]=n}});for(var r in e)s.hasOwnProperty(r)&&(e[r]?s[r]=e[r]:delete s[r]);i="?";for(var a in s)i+=a+"="+s[a]+"&";return window.history&&history.pushState?(history.pushState(t,null,i),location.href):""+location.origin+location.pathname+i},t.exports=s},function(t,e,i){var n;(function(o){"use strict";function s(t,e){var i=(65535&t)+(65535&e),n=(t>>16)+(e>>16)+(i>>16);return n<<16|65535&i}function r(t,e){return t<<e|t>>>32-e}function a(t,e,i,n,o,a){return s(r(s(s(e,t),s(n,a)),o),i)}function c(t,e,i,n,o,s,r){return a(e&i|~e&n,t,e,o,s,r)}function l(t,e,i,n,o,s,r){return a(e&n|i&~n,t,e,o,s,r)}function h(t,e,i,n,o,s,r){return a(e^i^n,t,e,o,s,r)}function u(t,e,i,n,o,s,r){return a(i^(e|~n),t,e,o,s,r)}function d(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;var i,n,o,r,a,d=1732584193,p=-271733879,f=-1732584194,m=271733878;for(i=0;i<t.length;i+=16)n=d,o=p,r=f,a=m,d=c(d,p,f,m,t[i],7,-680876936),m=c(m,d,p,f,t[i+1],12,-389564586),f=c(f,m,d,p,t[i+2],17,606105819),p=c(p,f,m,d,t[i+3],22,-1044525330),d=c(d,p,f,m,t[i+4],7,-176418897),m=c(m,d,p,f,t[i+5],12,1200080426),f=c(f,m,d,p,t[i+6],17,-1473231341),p=c(p,f,m,d,t[i+7],22,-45705983),d=c(d,p,f,m,t[i+8],7,1770035416),m=c(m,d,p,f,t[i+9],12,-1958414417),f=c(f,m,d,p,t[i+10],17,-42063),p=c(p,f,m,d,t[i+11],22,-1990404162),d=c(d,p,f,m,t[i+12],7,1804603682),m=c(m,d,p,f,t[i+13],12,-40341101),f=c(f,m,d,p,t[i+14],17,-1502002290),p=c(p,f,m,d,t[i+15],22,1236535329),d=l(d,p,f,m,t[i+1],5,-165796510),m=l(m,d,p,f,t[i+6],9,-1069501632),f=l(f,m,d,p,t[i+11],14,643717713),p=l(p,f,m,d,t[i],20,-373897302),d=l(d,p,f,m,t[i+5],5,-701558691),m=l(m,d,p,f,t[i+10],9,38016083),f=l(f,m,d,p,t[i+15],14,-660478335),p=l(p,f,m,d,t[i+4],20,-405537848),d=l(d,p,f,m,t[i+9],5,568446438),m=l(m,d,p,f,t[i+14],9,-1019803690),f=l(f,m,d,p,t[i+3],14,-187363961),p=l(p,f,m,d,t[i+8],20,1163531501),d=l(d,p,f,m,t[i+13],5,-1444681467),m=l(m,d,p,f,t[i+2],9,-51403784),f=l(f,m,d,p,t[i+7],14,1735328473),p=l(p,f,m,d,t[i+12],20,-1926607734),d=h(d,p,f,m,t[i+5],4,-378558),m=h(m,d,p,f,t[i+8],11,-2022574463),f=h(f,m,d,p,t[i+11],16,1839030562),p=h(p,f,m,d,t[i+14],23,-35309556),d=h(d,p,f,m,t[i+1],4,-1530992060),m=h(m,d,p,f,t[i+4],11,1272893353),f=h(f,m,d,p,t[i+7],16,-155497632),p=h(p,f,m,d,t[i+10],23,-1094730640),d=h(d,p,f,m,t[i+13],4,681279174),m=h(m,d,p,f,t[i],11,-358537222),f=h(f,m,d,p,t[i+3],16,-722521979),p=h(p,f,m,d,t[i+6],23,76029189),d=h(d,p,f,m,t[i+9],4,-640364487),m=h(m,d,p,f,t[i+12],11,-421815835),f=h(f,m,d,p,t[i+15],16,530742520),p=h(p,f,m,d,t[i+2],23,-995338651),d=u(d,p,f,m,t[i],6,-198630844),m=u(m,d,p,f,t[i+7],10,1126891415),f=u(f,m,d,p,t[i+14],15,-1416354905),p=u(p,f,m,d,t[i+5],21,-57434055),d=u(d,p,f,m,t[i+12],6,1700485571),m=u(m,d,p,f,t[i+3],10,-1894986606),f=u(f,m,d,p,t[i+10],15,-1051523),p=u(p,f,m,d,t[i+1],21,-2054922799),d=u(d,p,f,m,t[i+8],6,1873313359),m=u(m,d,p,f,t[i+15],10,-30611744),f=u(f,m,d,p,t[i+6],15,-1560198380),p=u(p,f,m,d,t[i+13],21,1309151649),d=u(d,p,f,m,t[i+4],6,-145523070),m=u(m,d,p,f,t[i+11],10,-1120210379),f=u(f,m,d,p,t[i+2],15,718787259),p=u(p,f,m,d,t[i+9],21,-343485551),d=s(d,n),p=s(p,o),f=s(f,r),m=s(m,a);return[d,p,f,m]}function p(t){var e,i="",n=32*t.length;for(e=0;e<n;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function f(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var n=8*t.length;for(e=0;e<n;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function m(t){return p(d(f(t),8*t.length))}function g(t,e){var i,n,o=f(t),s=[],r=[];for(s[15]=r[15]=void 0,o.length>16&&(o=d(o,8*t.length)),i=0;i<16;i+=1)s[i]=909522486^o[i],r[i]=1549556828^o[i];return n=d(s.concat(f(e)),512+8*e.length),p(d(r.concat(n),640))}function v(t){var e,i,n="0123456789abcdef",o="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),o+=n.charAt(e>>>4&15)+n.charAt(15&e);return o}function w(t){return unescape(encodeURIComponent(t))}function y(t){return m(w(t))}function b(t){return v(y(t))}function x(t,e){return g(w(t),w(e))}function _(t,e){return v(x(t,e))}function S(t,e,i){return e?i?x(e,t):_(e,t):i?y(t):b(t)}n=function(){return S}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))})(this)},function(t,e){"use strict";e.send=function(t,e){window.Mar&&Mar.Seed.request("button","click",t,e)}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){var isvivaMars=data.isviva?1:0,showPasswordLoginFirst=!1,displayNone='style="display: none"';__p+='\n\n<div class="models-login models-login-bg-write" id="J-models-login-wrap" marsSeadClick>\n    <div id="J-captcha-sdk"></div>\n    <div class="models-header J-mobile-fast-login-header" style="display:none">\n        <h2>密码登录</h2>\n        <a href="javascript:;" class="iconfont iconfont-close2 close J-mlogin-close"></a>\n        <a href="javascript:;" class="m-login-back-btn J-mlogin-back-new"></a>\n    </div>\n    <div class="models-logo J-models-login-logo">\n        <div class="icon-login-logo"></div>\n        <a data-dismiss="closemodels" class="iconfont iconfont-close2 close J-mlogin-close" href="javascript:;"><span class="mlogin-close-in"></span></a>\n    </div>\n    <div class="models-body">\n        ',data.text&&(__p+='\n        <p class="news-msg J-news-msg">\n            <span>\n                '+(null==(__t=data.text)?"":__t)+"\n            </span>\n        </p>\n        "),__p+='\n        <form class="ui-form">\n            <div class="J-login-wrap" '+(null==(__t=showPasswordLoginFirst?"":displayNone)?"":__t)+'>\n                <div class="ui-form-item ui-form-item-bd">\n                    <label for="username">登录名</label>\n                    <input type="text" name="username" placeholder="请输入手机号或邮箱" class="J-mlogin-ipt J-mlogin-ipt-username c-mlogin-ipt-username" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n                <div class="ui-form-item">\n                    <label for="password">密码</label>\n                    <input type="password" name="password" onpaste="return false;" placeholder="请输入密码" class="J-mlogin-ipt J-mlogin-ipt-password" marsSeadInput>\n                    <a href="#" class="icon-show-password J-mlogin-show-password"></a>\n                    <a href="#" class="show-password-position m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n\n                <div class="submit-box J-mlogin-submit-box">\n                    <a href="javascript:void(0);" class="J-mlogin-submit ui-button ui-button-primary submitFast disabled">登&nbsp;录</a>\n                </div>\n\n                ',__p+=data.isviva?'\n                <div>\n                    <a href="//m.vip.com/retrieve-password.html" class="frogot-pwd" mars_sead="H5_forgetpwd" data_mars=\'{"isviva":"'+(null==(__t=isvivaMars)?"":__t)+'","enter":"4"}\'>忘记密码</a>\n                </div>\n                ':'\n                <div>\n                    <a href="//m.vip.com/retrieve-password.html" class="frogot-pwd" mars_sead="H5_forpwd_new_click" data_mars=\'{"enter":"3"}\'>忘记密码</a>\n                </div>\n                ',__p+='\n\n                <div class="models-footer">\n                    <fieldset class="J-login-models-m">\n                        <legend>或</legend>\n                        <a mars_sead="H5_smspwdlogin_new_click" data_mars=\'{"enter":"3"}\' href="javascript:;" class="login-pop-mobile J-mlogin-mobile-new">手机号注册登录</a>\n                    </fieldset>\n                </div>\n\n            </div>\n            <div class="J-mobile-fast-login" '+(null==(__t=showPasswordLoginFirst?displayNone:"")?"":__t)+'>\n                <div class="ui-form-item">\n                    <label for="mobile">手机号</label>\n                    <input name="mobile" type="tel" placeholder="请输入手机号" maxlength="11" class="J-mlogin-ipt J-mlogin-ipt-mobile" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                </div>\n                <div class="ui-form-item ui-form-item-r">\n                    <label for="authcode">验证码</label>\n                    <input class="J-mlogin-ipt J-mlogin-ipt-authcode" name="authcode" type="tel" placeholder="请输入验证码" maxlength="6" marsSeadInput>\n                    <a href="#" class="m-mlogin-clear show-btn-position J-mlogin-clear" style="display:none">\n                        <span class="clear_wrap">\n                            <span class="clear"></span>\n                        </span>\n                    </a>\n                    <button class="J-mlogin-get-login-authcode disabled" type="button">获取验证码</button>\n                </div>\n                <div class="submit-box">\n\n                    ',__p+=data.isviva?'\n                        <a href="javascript:;" class="J-login-models-submit ui-button ui-button-primary submit disabled">手机号快捷登录</a>\n                    ':'\n                        <a href="javascript:;" class="J-login-models-submit ui-button ui-button-primary submit disabled">手机号注册登录</a>\n                    ',__p+='\n\n                    <p class="mlogin-footer-tips" id="J-footer-tips">\n\t                    ',__p+=data.registerTips?"\n\t                        "+(null==(__t=data.registerTips)?"":__t)+"\n\t                    ":'\n\t                        <i class="mlogin-rectangle mlogin-icon-rectangle-selected J-rectangle-agree"></i>同意<a href="//viva.vip.com/act/m/service_provision_20161116?wapid=vivac_503">《唯品会服务条款》</a>、<a href="//viva.vip.com/act/m/user_protection_policy_20160809?wapid=vivac_385">《隐私条款》</a>、\n                            <a href="//move.vpal.com/member/terms.html">《唯品支付用户服务协议》</a>、\n                            <a href="//grcredit.vip.com/h5/protocol">《唯品信用服务协议》</a>\n\t                    ',__p+='\n                    </p>\n\n                </div>\n            </div>\n            <div class="J-password-step" style="display:none">\n               <div class="ui-form-item-top">\n                    <label>为了确保账号安全，请设置登录密码。</label>\n                </div>\n                <div class="ui-form-item f-password-width-fix-wrapper">\n                    <label for="password">登录密码</label>\n                    <div class="f-password-width-fix">\n                        <input name="password" onpaste="return false;" type="text" placeholder="支持字母、数字、特殊字符" maxlength=20 class="J-mlogin-ipt J-login-password f-password-width-fix-target" marsSeadInput>\n                        <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                            <span class="clear_wrap">\n                                <span class="clear"></span>\n                            </span>\n                        </a>\n                    </div>\n                </div>\n\n                <div class="submit-box">\n                    <a href="javascript:;" class="J-mlogin-password-btn ui-button ui-button-primary submitFast disabled">登录</a>\n                </div>\n            </div>\n            <div class="J-second-step" style="display:none">\n                <div class="ui-form-item-top">\n                    <label>为了确保账号安全，请设置登录密码。</label>\n                </div>\n                <div class="ui-form-item  f-password-width-fix-wrapper">\n                    <label for="password">登录密码</label>\n                    <div class="f-password-width-fix">\n                        <input name="password" onpaste="return false;" type="text" placeholder="支持字母、数字、特殊字符" maxlength=20 class="J-mlogin-ipt J-mlogin-ipt-password-second f-password-width-fix-target" marsSeadInput>\n                        <a href="#" class="m-mlogin-clear J-mlogin-clear" style="display:none">\n                            <span class="clear_wrap">\n                                <span class="clear"></span>\n                            </span>\n                        </a>\n                    </div>\n                </div>\n                <div class="submit-box">\n                    <a href="javascript:;" class="J-register-btn ui-button ui-button-primary submitFast disabled">注册</a>\n                </div>\n            </div>\n            <div class="mlogin-error-msg m-login-error hide J-error-msg">\n                <i class="mlogin-err-tips">\n                    <span class="mlogin-err-tips-in"></span>\n                </i>\n                <span></span>\n            </div>\n        </form>\n    </div>\n    <div class="models-footer J-models-login-footer" '+(null==(__t=showPasswordLoginFirst?displayNone:"")?"":__t)+'>\n        <a href="javascript:;" class="frogot-pwd"></a>\n        <fieldset class="J-login-models-m">\n            <legend>或</legend>\n            ',__p+=data.isviva?'\n                <a mars_sead="H5_pwdlogin" data_mars=\'{"isviva":"'+(null==(__t=isvivaMars)?"":__t)+'","enter":"1"}\' href="javascript:;" class="login-pop-mobile J-mlogin-login-normal">密码登录</a>\n            ':'\n                <a mars_sead="H5_pwdlogin_new_click" data_mars=\'{"enter":"1"}\' href="javascript:;" class="login-pop-mobile J-mlogin-login-normal">密码登录</a>\n            ',__p+='\n\n            <div class="without-account">\n                <span class="without-account-tips J-mlogin-login-weixin">微信账号登录</span>\n            </div>\n        </fieldset>\n</div>\n'}return __p}},function(module,exports){module.exports=function(obj){function print(){__p+=__j.call(arguments,"")}obj||(obj={});var __t,__p="",__j=Array.prototype.join;with(obj){__p+='<!-- 选择账号登录弹窗 -->\n<p class="user-choose-title">温馨提示</p>\n<p class="user-choose-tips">\n    ';var chooseTips;__p+="\n    ",__p+="mloginUser"===chooseTips?"\n    <span>"+(null==(__t=displayName)?"":__t)+"和密码匹配了"+(null==(__t=data.length)?"":__t)+"个账号，请选择您需要登录的账号。</span>\n    ":"\n        <span>"+(null==(__t=displayName)?"":__t)+"手机号对应有"+(null==(__t=data.length)?"":__t)+"个账号，请选择你的账号找回密码，安全模式你可以放心操作。</span>\n    ",__p+='\n</p>\n<div class="user-choose-list">\n    ',data.length>1&&(__p+='\n    <ul class="user-choose-inner">\n        ',data.forEach(function(t){__p+='\n            <li class="u-user-item J-user-choose" data-id="'+(null==(__t=t.processId)?"":__t)+'">\n                <img src="../img/icons/user-pic.png" data-src="'+(null==(__t=t.avatar.replace(/^http:\/\//,"//"))?"":__t)+'" class="user-item-img lazyload">\n                <p class="user-item-name" data-id="'+(null==(__t=t.accountId)?"":__t)+'">'+(null==(__t=t.displayName)?"":__t)+"</p>\n            </li>\n        "}),__p+="\n    </ul>\n    "),__p+="\n</div>"}return __p}},function(t,e,i){"use strict";i(1);var n={eventDom:$(document.body),emit:function(t,e,i){var n=this;setTimeout(function(){n.eventDom.trigger(t+":"+e,i)},0)},on:function(t,e,i){var n=this;i&&$.isFunction(i)&&n.eventDom.on(t+":"+e,function(t,e){i(e)})}};t.exports=n},function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;var t=$("#mg-mask");return t.length?r:(t=$('<div id="mg-mask" class="mg-mask none" marsSeadClick></div>').appendTo($("body")),this.$box=t,r=this,this._freeze=!1,this._scrollLock=!1,t.on("tap",o),t.on("touchmove",s),this)}function o(t){r&&(r._freeze?t.preventDefault():$.each(a,function(t,e){e.isOpen&&e.$box.trigger("close")}))}function s(t){r&&r._scrollLock&&(t.stopPropagation(),t.preventDefault())}i(34);var r,a=[],c=n.prototype,l=!1;$.extend(c,{open:function(){return this.isOpen?this:(l?this.$box.show():this.$box.fadeIn().removeClass("none"),this.isOpen=!0,this)},close:function(){return this.isOpen?(l?this.$box.hide():this.$box.fadeOut(),this.isOpen=!1,this.reset(),this):this},freeze:function(t){return this._freeze=t,this},scrollLock:function(t){return this._scrollLock=t,this},reset:function(){return this._freeze=!1,this._scrollLock=!1,this},associate:function(t){a.push(t)},conf:function(t){l=t.noAnimate}}),t.exports=n},function(t,e){},,function(t,e){"use strict";function i(t){var e=t.clientX;return e}function n(t){var e=t.clientY;return e}$("body").delegate("[marsSeadClick]","click",function(t){o.clickProcess(t)}).delegate("[marsSeadInput]","keyup",function(){o.inputProcess(this)});var o={maxHeapHeight:10,clickHeap:[],inputHeap:[],clickProcess:function(t){this.clickHeap.length>=this.maxHeapHeight&&this.clickHeap.pop();var e=new a(i(t),n(t)),o=new r(e);this.clickHeap.unshift(o)},inputProcess:function(t){this.inputHeap.length>=this.maxHeapHeight&&this.inputHeap.pop();var e=new s($(t).attr("name"));this.inputHeap.unshift(e)},send:function(){this.clickHeap.length>0&&window.Mar&&Mar.Seed.request("button","click","active_login_ck_collect",JSON.stringify({platform:"wap",data:this.clickHeap})),this.inputHeap.length>0&&window.Mar&&Mar.Seed.request("input","blur","active_login_keystroke_collect",JSON.stringify({platform:"wap",data:this.inputHeap}))}},s=function(t){this.t=""+(new Date).getTime(),this.x=t},r=function(t){this.t=""+(new Date).getTime(),this.position=[{c1:""+t}]},a=function(t,e){this.x=t,this.y=e};a.prototype.toString=function(){return this.x+":"+this.y},t.exports=o},function(t,e,i){"use strict";"user strict";function n(t,e){var i=new v;i.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var n=i.start();if(n)return n;var o={pwd:d.encryptPassword(t.value)};return e&&e(o),o}function o(t,e,i,n){var o=new v;o.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]},{dom:e,rules:[g.mobile.isNotEmpty,g.mobile.format]},{dom:i,rules:[g.authcode.isNotEmpty]}]);var s=o.start();if(s)return s;var r={pwd:d.encryptPassword(t.value),mobile:d.encryptMobile(e.value)};return n&&n(r),r}function s(t,e,i,n){var o=new v;o.init([{dom:t,rules:[g.mobile.isNotEmpty,g.mobile.format]},{dom:e,rules:[g.authcode.isNotEmpty]}]);var s=o.start();if(s)return s;var r=i?{mobile:d.encryptMobile(t.value),captchaCode:e.value}:{mobile:d.encryptMobile(t.value),smscode:e.value};return i||n&&n(r),r}function r(t,e,i){var n=new v;n.init([{dom:t,rules:[g.username.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty]}]),i&&n.add(i,[g.authcode.isNotEmpty]);var o=n.start();if(o)return o;var s={userData:d.encrypt(t.value,e.value)};return i&&(s.captcha=i.value),s}function a(t,e,i){var n=new v;n.init([{dom:t,rules:[g.authcode.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var o=n.start();if(o)return o;var s={captchaCode:t.value,password:d.encryptPassword(e.value)};return i&&i(s),s}function c(t,e){var i=new v;i.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var n=i.start();if(n)return n;var o={password:d.encryptPassword(t.value)};return e&&e(o),o}function l(t,e){var i=new v,n=[];t.forEach(function(t,e){var i=$.extend(!0,{},g.questions.isNotEmpty);i.errorMsg="问题"+(e+1)+i.errorMsg,n.push({dom:t,rules:[i]})}),i.init(n);var o=i.start();if(o)return o;var s={answers:[]};return t.forEach(function(t){s.answers.push({answer:p(t.value)})}),e&&e(s),s}function h(t,e,i){var n=new v;n.init([{dom:t,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var o=n.start();
if(o)return o;var s={old_password:d.encryptPassword(t.value),new_password:d.encryptPassword(e.value)};return i&&i(s),s}function u(t,e,i){var n=new v;n.init([{dom:t,rules:[g.authcode.isNotEmpty]},{dom:e,rules:[g.password.isNotEmpty,g.password.length,g.password.onlyAllowedChars,g.password.newFormat]}]);var o=n.start();if(o)return o;var s={code:t.value,new_password:d.encryptPassword(e.value)};return i&&i(s),s}var d=i(27),p=i(28),f="`-=[];',./~!@#$%^&*()_+{}|:\"<>?".split("").join("\\"),m="a-zA-Z",g={username:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"用户名不能为空"}},password:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"密码不能为空"},length:{strategy:"lengthRange",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:/^\S{6,20}$/},format:{strategy:"password",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9]{6,20}$/},newFormat:{strategy:"password",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:new RegExp("(\\d["+m+f+"]|["+m+f+"]\\d)|"+("(["+m+"][\\d"+f+"]|[\\d"+f+"]["+m+"])|")+("(["+f+"][\\d"+m+"]|[\\d"+m+"]["+f+"])"))},onlyAllowedChars:{strategy:"onlyAllowedChars",errorMsg:"6-20位的字符，含数字、字母、特殊字符",re:new RegExp("[\\d"+m+f+"]","g")}},mobile:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"手机号码不能为空"},format:{strategy:"isMobile",errorMsg:"手机号码格式错误"}},authcode:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"验证码不能为空"}},questions:{isNotEmpty:{strategy:"isNotEmpty",errorMsg:"答案不能为空"}}},v=i(38);e.rules=g,e.onlyPasswordValidate=n,e.fullPasswordValidate=o,e.mobileFastValidate=s,e.accountNormalValidate=r,e.passwordPhoneValidate=a,e.passwordResetValidate=c,e.questionsCheckValidate=l,e.resetOldPasswordValidate=h,e.resetCodePasswordValidate=u},function(t,e,i){"use strict";function n(){this.cache=[]}var o=(i(1),{isNotEmpty:function(t,e){if(""===t)return e},minLength:function(t,e,i){if(t.length<e)return i},maxLength:function(t,e,i){if(t.length>e)return i},isMobile:function(t,e){if(e=e?e:"手机号码格式错误",!/^1[3-9]\d{9}$/.test(t))return e},isEmail:function(t,e){if(e=e?e:"邮箱地址格式错误",!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(t))return e},isChinese:function(t,e){},isIdCard:function(t,e){if(e=e?e:"身份证格式错误",!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(t))return e},isQq:function(t,e){if(e=e?e:"qq号码格式错误",!/^[1-9]\d{4,9}$/.test(t))return e},isPostcode:function(t,e){e=e?e:"邮政编码格式错误"},username:function(t,e,i){if(e=e?e:"用户名格式错误",i=i?i:/^.{6,}$/,!i.test(t))return e},password:function(t,e,i){if(e=e?e:"密码必须是由数字/大写字母/小写字母/标点符号组成，四种都必有，8位以上",i=i?i:/(?=^.{8,}$)(?=.*\d)(?=.*\W+)(?=.*[A-Z])(?=.*[a-z])(?!.*\n).*$/,!i.test(t))return e},lengthRange:function(t,e,i){if(e=e?e:"长度不符合规范",i=i?i:/^\S{6, 20}$/,!i.test(t))return e},onlyAllowedChars:function(t,e,i){if(e=e?e:"包含不允许的字符",i=i?i:/./g,t.replace(i,"").length>0)return e},authCode:function(t,e,i){if(e=e?e:"",i=i?i:/^\d{6}$/,!i.test(t))return e},captcha:function(t,e,i){if(e=e?e:"",i=i?i:/^[a-zA-Z]{4}$/,!i.test(t))return e}});n.prototype={constructor:n,init:function(t){return!!t&&void t.forEach(function(t){this.add(t.dom,t.rules)},this)},add:function(t,e){var i,n,s=this,r=e.length;for(i=0;i<r;i++)n=e[i],function(e){s.cache.push(function(){var i=e.strategy.split(":"),n=e.errorMsg,s=e.re?e.re:null,r=i.shift();return i.unshift(t.value),i.push(n),s&&i.push(s),o[r].apply(t,i)})}(n)},start:function(){var t,e,i,n=this.cache.length;for(t=0;t<n;t++)if(e=this.cache[t],i=e())return i}},t.exports=n},function(t,e,i){"use strict";i(40);var n=i(42)();i(1);var o=function(t){var e;return t=t||$("body"),{show:function(i){return e=$(n),t.append(e),this},hide:function(){return e.remove(),this}}};t.exports=o},function(t,e){},,function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div class="mlogin-loading-wrap">\n\t<div class="c-loading-bg J-loading">\n        <svg width="50" height="50" viewBox="0 0 50 50" class="c-loading c-loading-curve">\n            <circle r="24" cx="25" cy="25" fill="none" stroke="#f0f0f0" stroke-width="2" />\n            <circle r="24" cx="25" cy="25" fill="none" stroke="#e4007f" stroke-width="2"  class="c-loading-progress"/>\n            <text x="25" y="25" dy=".27em" fill="#dedede" class="c-loading-text">vip</text>\n        </svg>\n    </div>\n</div>';return __p}},function(t,e,i){"use strict";function n(t,e,i,n){function r(){var r,a={captchaId:t.captchaId,captchaType:t.captchaType,templateId:t.templateId,extend:t.extend||{},data:{cid:s.get("mars_cid")||""}},c={targetId:"J-captcha-sdk",params:a,onCancel:function(){e.cancel=!0,n&&n()},onClose:function(){e.close=!0,n&&!e.ticket&&n()},onPassed:function(t){e.ticket=t.data.ticket,n&&n()},onFailed:function(){o.send("H5_safe_mlogin_components_check_failed",JSON.stringify({source:i,capatchType:t.captchaType,way:"accountlogin"}))}};VipSecureCode.load({url:a.templateId,success:function(){r=VipSecureCode.createInstance(c),r.show(),o.send("H5_safe_mlogin_components_success",JSON.stringify({source:i,capatchType:t.captchaType,way:"accountlogin"}))},error:function(e){toast.open("加载验证码组件失败!"),n&&n(),o.send("H5_safe_mlogin_components_failed",JSON.stringify({source:i,capatchType:t.captchaType,way:"accountlogin"}))}})}var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.innerHTML=r()}var o=i(29),s=i(20);e.vipCaptchaShow=n},function(t,e,i){"use strict";function n(t){if(!(this instanceof n))return new n(t);var e,i,c=t&&t.id||"J-popup"+a++,l=this.$popup=$("#"+c),h={};return $.extend(h,t),l.length?e=this:(i=$(s({popupId:c})),h.zIndex&&i.css("z-index",h.zIndex),h.className&&i.addClass(h.className),l=this.$popup=i.appendTo($("body")),this.$box=l,this.isOpen=!1,r="fixed"===l.css("position"),o(l,this),e=this),e}function o(t,e){t.on("touchmove",".size-box",function(t){t.stopPropagation()}),t.on("close",e.close.bind(e))}i(45);var s=i(47),r=!0,a=(new Date).getTime(),c=n.prototype;$.extend(c,{setContent:function(t){return this.$popup.html(t),this},addClass:function(t){this.$popup.addClass(t)},setSize:function(t){return t&&this.$popup.css("width",t),this},conf:function(t){var e=this;return t.content&&this.setContent(t.content),window.requestAnimationFrame?requestAnimationFrame(function(){e.setSize(t.width)}):setTimeout(function(){e.setSize(t.width)},0),this},open:function(){return arguments.length&&this.conf.apply(this,arguments),this.$popup.fadeIn(),this.isOpen=!0,this},close:function(){return this.$popup.fadeOut(),this.isOpen=!1,this}}),t.exports=n},function(t,e){},,function(module,exports){module.exports=function(obj){obj||(obj={});var __t,__p="";with(obj)__p+='<div id="'+(null==(__t=popupId)?"":__t)+'" class="mg-popup"></div>';return __p}},function(t,e,i){"use strict";function n(){return this instanceof n?(h=$("#mg-toast"),s(),h.length?c:(h=$('<div id="mg-toast" class="mg-toast"></div>').appendTo($("body")),this.$box=h,this.isOpen=!1,c=this,u="fixed"===h.css("position"),o(),this)):new n}function o(){h.on("tap",function(t){t.stopPropagation(),t.preventDefault(),c&&c.close(!1)})}function s(){r=document.documentElement.clientHeight,a=document.documentElement.clientWidth}i(49);var r=void 0,a=void 0,c=void 0,l=void 0,h=void 0,u=void 0,d=n.prototype;$.extend(d,{reset:function(){return this.setContent(""),this.isOpen=!1,clearTimeout(l),l=null,this},setContent:function(t){return h.html(t),this},calSize:function(){r<10&&s();var t=(a-h.width())/2+"px",e=u?-30:document.body.scrollTop-30,i=(r-h.height())/2+e+"px",n={left:t,top:i};return n},open:function(t,e,i){var n=this;if(!t)return this;if(this.setContent(t),this.isOpen)return h.css(this.calSize()),clearTimeout(l),l=setTimeout(this.close.bind(this),e||1e3),this;h.css("display","block");var o=this.calSize();return o.opacity=1,h.animate(o,200,function(){n.isOpen=!0,l=setTimeout(function(){n.close(n),i&&i()},e||1e3)}),this},close:function(t){var e=this,i={opacity:0};return t?h.animate(i,100,function(){h.css("display","none"),e.reset()}):(h.css($.extend(i,{display:"none"})),this.reset()),this}}),t.exports=n},function(t,e){},,function(t,e,i){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(27),s=i(22),r=i(25),a=i(29),c=i(33)(),l=i(37),h=i(52),u=i(43),d=i(53)(),p=i(48)();i(1);var f=i(20),m={},g="CONVENIENT_LOGIN_WAP",v=f.get("mars_cid")||"",w=JSON.stringify({cid:v}),y=function(t,e){var i=this,n={domain_id:"",serialno:"",token:"",mobile:"",isviva:"0",toggleLogin:function(){},toggleToNormalLogin:function(t){},preMobile:""},o={$mobile:"",$authCode:"",$getAuthCode:"",$errorBox:""},s={sendCaptchaLoading:!1,captchaLoading:!1};i.ui=$.extend(!0,o,t),i.option=$.extend(!0,n,e),i.config=s};y.fn=y.prototype,y.fn.getOption=function(t){return t?this.option[t]:this.option},y.fn.setOption=function(t,e){return this.option[t]=e,this},y.fn.stopCountDown=function(){h.stop(this.ui.$getAuthCode)},y.fn.sendSmsCaptcha=function(t){var e=this,i={domain_id:e.option.domain_id,mobile:e.option.mobile,token:e.option.token,captcha:t};for(var n in i)i[n]||delete i[n];return!e.config.sendCaptchaLoading&&(e.config.sendCaptchaLoading=!0,void s.sendCaptcha(i).then(function(t){i.mobile&&(e.option.preMobile=i.mobile),d.close(),p.open("验证码已发送，请注意查收",2e3),h.start(e.ui.$getAuthCode,t),e.option.serialno=t.serialno,a.send("H5_active_new_get_smscode_click",'{"status":"1","enter":"'+e.option.enter+'"}')},function(i){var n=i.msg;e.ui.$getAuthCode.removeClass("disabled"),i.code&&200===i.code?(c.open(),d.conf({content:'<p class="dialog-content-tips">'+n+"</p>",width:"90%",btns:["取消","去登录"],onBtnClick:function(t,i){this.close(),1===i&&("1"===e.option.isviva?e.option.toggleToNormalLogin(t):e.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+n+'","enter":"'+e.option.enter+'"}')):i.code&&210===i.code?(c.open(),d.conf({content:'<p class="dialog-content-tips">'+n+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,i){this.close(),1===i&&("1"===e.option.isviva?e.option.toggleToNormalLogin(t):e.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+n+'","enter":"'+e.option.enter+'"}')):t?($("#J-captcha").val(""),e.refreshImgCaptcha(),$(".J-captcha-error").html(n).parent().show()):o.showError(e.ui.$errorBox,n),a.send("H5_active_new_get_smscode_click",'{"status":"0","status_des":"'+n+'","enter":"'+e.option.enter+'","code":"'+i.code+'"}')}).always(function(){e.config.sendCaptchaLoading=!1}))},y.fn.getSmsCaptcha=function(t,e,i){var n=this,h=this;t.preventDefault();var u=t.currentTarget;if($(u).hasClass("disabled"))return!1;var p=l.mobileFastValidate(h.ui.$mobile[0],h.ui.$authCode[0],i,function(t){t.domain_id=h.option.domain_id,t.serialno=h.option.serialno});if($(".J-mlogin-ipt-mobile").on("input propertychange",function(){this.option.smsTicket=""}),"string"!=typeof p||"手机号码不能为空"!==p&&"手机号码格式错误"!==p){o.hideError(h.ui.$errorBox),$(u).addClass("disabled");var f={mobile:o.encryptMobile(h.ui.$mobile.val()),domain_id:h.option.domain_id};if(i)if(f.scene=g,window.VipSecureCode){var v=VipSecureCode.getFpData();f.info=v?JSON.stringify(v):w}else f.info=w;var y=i?r.sendSms:s.authCode;y(f).then(function(t){if(i)return h.mloginApiSendSms(t,f,e),!1;if(h.option.token=t.token,h.option.mobile=f.mobile,t.verifyType){var n='<div class="input-wrapper">\n                    <div class="secure-code">\n                        <label for="J-captcha"></label>\n                        <input class="J-mlogin-ipt-captcha" id="J-captcha" type="text" marsSeadInput/>\n                    </div>\n                    <div class="secure-img J-freshen-sms-img"><img class="J-sms-captcha-img" src=""></div>\n                    <div class="secure-refresh J-freshen-sms-img"><i class="u-icon-refresh"></i></div>\n                </div>\n                <p class="secure-tips"><span class="J-captcha-error"></span></p>',o='<div class="J-sms-captcha-title m-sms-captcha-title">\n                    <p class="secure-doc-title">安全校验</p>\n                    <img src="" class="question-img J-auth-question-img">\n                </div>',s={title:o,content:n,width:"302px",clsName:"secure-check",btns:["取消","确认"],onOpen:function(){$(".J-freshen-sms-img").on("click",function(){h.refreshImgCaptcha(),h.showDialogErrMsg("")}),$("#J-captcha").on("input propertychange",function(){h.showDialogErrMsg("")}),$("#J-captcha").focus(),a.send("H5_refresh_fdspic",'{"isviva":"'+h.option.isviva+'","enter":"'+h.option.enter+'"}')},onBtnClick:function(t,e){if(0===e&&(this.close(),h.ui.$getAuthCode.removeClass("disabled")),1===e){var i=$("#J-captcha").val();i?(h.sendSmsCaptcha(i),a.send("H5_active_te_safe_check_ok_click",'{"status":"1","isviva":"'+h.option.isviva+'","enter":"'+h.option.enter+'"}')):$(".J-captcha-error").text("请填写图片验证码")}}};switch(String(t.verifyType)){case"1":t.captcha&&"string"==typeof t.captcha?(c.open(),d.conf(s).open(),$(".J-sms-captcha-img").attr("src","data:image/png;base64,"+t.captcha),$(".J-sms-captcha-title").addClass("doc").removeClass("img"),a.send("H5_active_te_safe_check_alert",'{"isviva":"'+h.option.isviva+'","enter":"'+h.option.enter+'"}')):h.sendSmsCaptcha();break;case"6":var r=null;try{r=JSON.parse(t.captcha||"")}catch(l){console.log("json parse error !"),r={}}r&&r.qp&&r.ap&&"string"==typeof r.qp&&"string"==typeof r.ap?(c.open(),d.conf(s).open(),$(".J-sms-captcha-img").attr("src","data:image/png;base64,"+r.ap),$(".J-sms-captcha-title").addClass("img").removeClass("doc"),$(".J-auth-question-img").attr("src","data:image/png;base64,"+r.qp),a.send("H5_active_te_safe_check_alert",'{"isviva":"'+h.option.isviva+'","enter":"'+h.option.enter+'"}')):h.sendSmsCaptcha();break;default:h.sendSmsCaptcha()}}else h.sendSmsCaptcha()},function(e){$(t.currentTarget).removeClass("disabled");var i=e.msg;e.code&&70306===e.code?(c.open(),d.conf({content:'<p class="dialog-content-tips">'+i+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),1===e&&("1"===h.option.isviva?h.option.toggleToNormalLogin(t):h.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+i+'","enter":"'+h.option.enter+'"}')):o.showError(h.ui.$errorBox,i),m.ticket="",n.option.smsTicket=""})}else o.showError(h.ui.$errorBox,p)},y.fn.showDialogErrMsg=function(t,e){void 0===("undefined"==typeof t?"undefined":n(t))?"网络异常，请稍后再试！":t;e&&"function"==typeof e.text?e.text(t):$(".J-captcha-error").text(t)},y.fn.mloginApiSendSms=function(t,e,i){var n=this;t.captchaType&&0!==Number(t.captchaType)?(m.captchaType=t.captchaType,m.captchaId=t.captchaId||"",m.sid=t.sid||"",window.VipSecureCode?u.vipCaptchaShow(t,m,i,function(){m.ticket&&n.sendSms(i),(m.cancel||m.close)&&(n.ui.$getAuthCode.removeClass("disabled"),m.close&&(m.ticket=""))}):(p.open("加载验证码组件失败"),n.ui.$getAuthCode.removeClass("disabled"),a.send("H5_safe_mlogin_components_load_failed",JSON.stringify({capatchType:m.captchaType,way:"accountlogin"})))):(e.mobile&&(n.option.preMobile=e.mobile),d.close(),p.open("验证码已发送，请注意查收",2e3),h.start(n.ui.$getAuthCode,t),n.ui.$authCode[0].focus(),n.option.uuid=t.uuid,n.option.processId=t.processId,n.option.authScene=t.authScene,n.option.smsTicket=t.smsTicket,a.send("H5_active_new_get_smscode_click",'{"status":"1","enter":"'+n.option.enter+'"}'))},y.fn.sendSms=function(t){var e=this,i=this,n=w;if(window.VipSecureCode){var s=VipSecureCode.getFpData();n=s?JSON.stringify(s):w}var l={mobile:o.encryptMobile(i.ui.$mobile.val()),domain_id:i.option.domain_id,scene:g,sid:m.sid,captchaType:m.captchaType,captchaId:m.captchaId,ticket:m.ticket,info:n};r.sendSms(l).then(function(e){i.mloginApiSendSms(e,l,t)},function(t){var n=t.msg;i.ui.$getAuthCode.removeClass("disabled"),t.code&&70306===t.code?(c.open(),d.conf({content:'<p class="dialog-content-tips">'+n+"</p>",width:"90%",btns:["取消","账号登录"],onBtnClick:function(t,e){this.close(),1===e&&("1"===i.option.isviva?i.option.toggleToNormalLogin(t):i.option.toggleLogin())}}).open(),a.send("H5_active_new_phonenum_login_failed_alert",'{"reason":"'+n+'","enter":"'+i.option.enter+'"}')):o.showError(i.ui.$errorBox,n),e.option.smsTicket="",m.ticket="",a.send("H5_active_new_get_smscode_click",'{"status":"0","status_des":"'+n+'","enter":"'+i.option.enter+'","code":"'+t.code+'"}')})},y.fn.refreshImgCaptcha=function(t,e,i){var n=this;if(!n.config.captchaLoading){n.config.captchaLoading=!0;var o={domain_id:e||n.option.domain_id,mobile:i||n.option.mobile,old_token:t||n.option.token};s.freshenCaptcha(o).then(function(t){if($("#J-captcha").val(""),n.option.token=t.token,t.verifyType)switch(String(t.verifyType)){case"1":t.captcha&&"string"==typeof t.captcha?($(".J-sms-captcha-img").attr("src","data:image/png;base64,"+t.captcha),$(".J-sms-captcha-title").addClass("doc").removeClass("img"),$("#J-captcha").focus()):n.showDialogErrMsg();break;case"6":var e=null;try{e=JSON.parse(t.captcha||"")}catch(i){console.log("json parse error !"),e={}}e&&e.qp&&e.ap&&"string"==typeof e.qp&&"string"==typeof e.ap?($(".J-sms-captcha-img").attr("src","data:image/png;base64,"+e.ap),$(".J-auth-question-img").attr("src","data:image/png;base64,"+e.qp),$(".J-sms-captcha-title").addClass("img").removeClass("doc"),$("#J-captcha").focus()):n.showDialogErrMsg();break;default:n.showDialogErrMsg()}else n.showDialogErrMsg()},function(t){$("#J-captcha").val(""),n.showDialogErrMsg(t.msg)}).always(function(){n.config.captchaLoading=!1})}},t.exports=y},function(t,e){"use strict";function i(t,e){var i=e.interval||60,s=parseInt(i,10);t.removeClass("J-send-code-btn z-send-code"),o=setInterval(function(){s-=1,s<0?n(t):(t.html(s+"秒后重新获取"),t.addClass("disabled"))},1e3)}function n(t){o&&(clearInterval(o),t.html("重新获取"),t.addClass("J-send-code-btn z-send-code"),t.removeClass("disabled"))}var o;e.start=i,e.stop=n},function(t,e,i){"use strict";function n(){if(!(this instanceof n))return new n;if(s(),p=$("#mg-dialog"),p.length)return l;var t='<div id="mg-dialog" class="mg-dialog mg-popup none" marsSeadClick>\t            <h3 class="mg-dialog-title"></h3>\t            <section class="mg-dialog-body"></section>\t            <section class="mg-dialog-foot"></section>\t        </div>';return this.$box=p=$(t).appendTo($("body")),this.$title=p.find(".mg-dialog-title"),this.$body=p.find(".mg-dialog-body"),this.$foot=p.find(".mg-dialog-foot"),this.isOpen=!1,this.mask=m(),this.mask.associate(this),this.freeze=!0,l=this,f="fixed"===p.css("position"),o(),this}function o(){p.on("tap",function(t){t.preventDefault(),t.stopPropagation()}),p.on("close",l.close.bind(l)),p.find(".mg-dialog-close").on("tap",function(){return l.close(),!1}),l.$body.on("tap",function(t){t.stopPropagation(),u&&u.call(l,t)}),l.$foot.on("click","button",function(t){t.stopPropagation();var e=$(this),i=e.data("index")-0,n=e.html(),o=h||g;o.call(l,t,i,n)}),window.onorientationchange=s}function s(){r=document.documentElement.clientHeight,a=document.documentElement.clientWidth}i(45),i(54);var r,a,c,l,h,u,d,p,f,m=i(33),g=function(t){l&&l.close()},v=[],w=!1,y="",b=n.prototype;$.extend(b,{reset:function(){this.$box.removeClass(y),p.css({width:"auto",height:"auto",left:"auto",right:"auto",top:"auto",bottom:"auto"}),c=!1,this.setTitle(),this.$body.removeClass("left"),h=null,u=null,d=null,this.freeze=!0},setNoAnimate:function(t){w=t,this.mask.conf({noAnimate:w})},conf:function(t){var e=[].slice.call(arguments,0);if(e.length){if("string"==typeof e[0]&&(t={content:e[0]},"string"==typeof e[1]&&(t.title=e[0],t.content=e[1])),!t.content)throw Error("content required");var i=this,n=t.title;t.content;return this.reset(),this.setClass(t.clsName),this.setTitle(n),this.setContent(t.content,t.left),this.setFoot(t.btns),void 0!==t.freeze&&(this.freeze=t.freeze),h=t.onBtnClick,u=t.onContentClick,d=t.onOpen,window.requestAnimationFrame?requestAnimationFrame(function(){i.setSize(t.width,t.x,t.y,t.position)}):setTimeout(function(){i.setSize(t.width,t.x,t.y,t.position)},0),c=t.useBottom,this}},setTitle:function(t){t?this.$title.html(t).removeClass("none"):this.$title.addClass("none").html("")},setClass:function(t){t&&""!=t&&(this.$box.removeClass(y),y=t,this.$box.addClass(t))},setContent:function(t,e){if(!t)throw Error("content can not empty");this.$body.html(t),e&&this.$body.addClass("left")},setFoot:function(t){var e="";return t?(v="string"==$.type(t)?[t]:t,$.each(v,function(t,i){e+='<button data-index="'+t+'">'+i+"</button>"})):(this.freeze=!1,v=[]),this.$foot.html(e),this},setSize:function(t,e,i,n){r<10&&s();var o={};if(t&&p.css("width",t),void 0!==e?"number"==typeof e&&(e+="px"):e="100%"===t?0:(a-p.width())/2+"px",void 0!==i)"number"==typeof i&&(i+="px");else{var l=-30;i=n&&""!=n?r-p.height()+"px":(r-p.height())/2+l+"px"}return o.left=e,c?(o.top="auto",o.bottom=0):o.top=i,p.css(o),this},open:function(){if(!this.isOpen){arguments.length&&this.conf.apply(this,arguments);var t=this;return this.mask.freeze(this.freeze).scrollLock(!0).open(),w?(p.show(),this.isOpen=!0,d&&d.call(this)):p.css({display:"block"}).animate({opacity:1},200,function(){t.isOpen=!0,d&&d.call(t)}),this}},close:function(){var t=this;return w?(p.hide(),this.mask.close(),this.isOpen=!1,this.reset()):p.animate({opacity:0},60,function(){p.css("display","none"),t.mask.close(),t.isOpen=!1,t.reset()}),this}}),t.exports=n},function(t,e){},,function(t,e,i){"use strict";function n(){var t="__test",e=window.localStorage;try{return e.setItem(t,"1"),e.removeItem(t),"localStorage"in window&&window.localStorage}catch(i){return i.name.toLowerCase().indexOf("quotaexceedederror")!==-1&&a("error",{error:"localstorage_full"}),!1}}function o(){var t=(new Date).getTime();for(var e in localStorage)if(localStorage.hasOwnProperty(e)){var i=localStorage.getItem(e);try{i=$.parseJSON(i)}catch(n){}if(Object.prototype.toString.call(i).toLowerCase().indexOf("array")>0){var o=i[0]&&i[0].expires;if(o&&/^\d{13,}$/.test(o)&&o<=t||"brandList_sortList"===e)localStorage.removeItem(e);else if(e.indexOf("classify")!==-1&&i[0]&&!i[0].expires){var s=void 0;if(i[0].cache_time){var r=i[0].cache_time.split(/[\s\:\-]/);s=new Date(r[0],r[1]-1,+r[2]+c,r[3],r[4],r[5])}else s=new Date(t-3600);s.getTime()<t&&localStorage.removeItem(e)}}}}function s(){}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=i(24),c=5;n()&&o();var l=n()?{set:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:86400*c,n=[];if(i){var o=(new Date).getTime();n.push({expires:o+1e3*i})}n.push(e);try{localStorage.setItem(t,JSON.stringify(n))}catch(s){s.name.toLowerCase().indexOf("quotaexceedederror")!==-1?a("error",{error:"localstorage_full"}):a("error",{error:"localstorage_write_error_"+t+"_"+JSON.stringify(n).length})}},get:function(t){var e=void 0;try{e=localStorage.getItem(t)}catch(i){e=null,a("error",{error:"localstorage_get_error_"+t})}if(null===e||void 0===e)return e="";try{e=$.parseJSON(e)}catch(i){}if("object"!==("undefined"==typeof e?"undefined":r(e)))return e;if("string"===$.type(e[0]))return e[0];if("object"===$.type(e))return e;var n=e[0]&&e[0].expires;if(n&&/^\d{13,}$/.test(n)){var o=(new Date).getTime();if(n<=o)return localStorage.removeItem(t),"";e.shift()}return e[0]},remove:function(t){try{localStorage.removeItem(t)}catch(e){a("error",{error:"localstorage_remove_error_"+t})}}}:{set:s,get:s,remove:s};t.exports=l},function(t,e){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! iScroll v5.1.3 ~ (c) 2008-2014 Matteo Spinelli ~ http://cubiq.org/license */
(function(e,n,o){function s(t,e){this.wrapper="string"==typeof t?n.querySelector(t):t,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0};for(var i in e)this.options[i]=e[i];this.translateZ=this.options.HWCompositing&&l.hasPerspective?" translateZ(0)":"",this.options.useTransition=l.hasTransition&&this.options.useTransition,this.options.useTransform=l.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"!=this.options.eventPassthrough&&this.options.scrollY,this.options.scrollX="horizontal"!=this.options.eventPassthrough&&this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?l.ease[this.options.bounceEasing]||l.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function r(t,e,i){var o=n.createElement("div"),s=n.createElement("div");return i===!0&&(o.style.cssText="position:absolute;z-index:9999",s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),s.className="iScrollIndicator","h"==t?(i===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",s.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(i===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",s.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",e||(o.style.pointerEvents="none"),o.appendChild(s),o}function a(t,i){this.wrapper="string"==typeof i.el?n.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=t,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in i)this.options[o]=i[o];this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(l.addEvent(this.indicator,"touchstart",this),l.addEvent(e,"touchend",this)),this.options.disablePointer||(l.addEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.addEvent(e,l.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(l.addEvent(this.indicator,"mousedown",this),l.addEvent(e,"mouseup",this))),this.options.fade&&(this.wrapperStyle[l.style.transform]=this.scroller.translateZ,this.wrapperStyle[l.style.transitionDuration]=l.isBadAndroid?"0.001s":"0ms",this.wrapperStyle.opacity="0")}var c=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},l=function(){function t(t){return r!==!1&&(""===r?t:r+t.charAt(0).toUpperCase()+t.substr(1))}var i={},s=n.createElement("div").style,r=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],i=0,n=e.length;i<n;i++)if(t=e[i]+"ransform",t in s)return e[i].substr(0,e[i].length-1);return!1}();i.getTime=Date.now||function(){return(new Date).getTime()},i.extend=function(t,e){for(var i in e)t[i]=e[i]},i.addEvent=function(t,e,i,n){t.addEventListener(e,i,!!n)},i.removeEvent=function(t,e,i,n){t.removeEventListener(e,i,!!n)},i.prefixPointerEvent=function(t){return e.MSPointerEvent?"MSPointer"+t.charAt(9).toUpperCase()+t.substr(10):t},i.momentum=function(t,e,i,n,s,r){var a,c,l=t-e,h=o.abs(l)/i;return r=void 0===r?6e-4:r,a=t+h*h/(2*r)*(l<0?-1:1),c=h/r,a<n?(a=s?n-s/2.5*(h/8):n,l=o.abs(a-t),c=l/h):a>0&&(a=s?s/2.5*(h/8):0,l=o.abs(t)+a,c=l/h),{destination:o.round(a),duration:c}};var a=t("transform");return i.extend(i,{hasTransform:a!==!1,hasPerspective:t("perspective")in s,hasTouch:"ontouchstart"in e,hasPointer:e.PointerEvent||e.MSPointerEvent,hasTransition:t("transition")in s}),i.isBadAndroid=/Android /.test(e.navigator.appVersion)&&!/Chrome\/\d/.test(e.navigator.appVersion),i.extend(i.style={},{transform:a,transitionTimingFunction:t("transitionTimingFunction"),transitionDuration:t("transitionDuration"),transitionDelay:t("transitionDelay"),transformOrigin:t("transformOrigin")}),i.hasClass=function(t,e){var i=new RegExp("(^|\\s)"+e+"(\\s|$)");return i.test(t.className)},i.addClass=function(t,e){if(!i.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},i.removeClass=function(t,e){if(i.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},i.offset=function(t){for(var e=-t.offsetLeft,i=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,i-=t.offsetTop;return{left:e,top:i}},i.preventDefaultException=function(t,e){for(var i in e)if(e[i].test(t[i]))return!0;return!1},i.extend(i.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),i.extend(i.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return o.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*o.pow(2,-10*t)*o.sin((t-e/4)*(2*o.PI)/e)+1}}}),i.tap=function(t,e){var i=n.createEvent("Event");i.initEvent(e,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},i.click=function(t){var e,i=t.target;/(SELECT|INPUT|TEXTAREA)/i.test(i.tagName)||(e=n.createEvent("MouseEvents"),e.initMouseEvent("click",!0,!0,t.view,1,i.screenX,i.screenY,i.clientX,i.clientY,t.ctrlKey,t.altKey,t.shiftKey,t.metaKey,0,null),e._constructed=!0,i.dispatchEvent(e))},i}();s.prototype={version:"5.1.3",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if((1==l.eventType[t.type]||0===t.button)&&this.enabled&&(!this.initiated||l.eventType[t.type]===this.initiated)){!this.options.preventDefault||l.isBadAndroid||l.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var e,i=t.touches?t.touches[0]:t;this.initiated=l.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this._transitionTime(),this.startTime=l.getTime(),this.options.useTransition&&this.isInTransition?(this.isInTransition=!1,e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=i.pageX,this.pointY=i.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,n,s,r=t.touches?t.touches[0]:t,a=r.pageX-this.pointX,c=r.pageY-this.pointY,h=l.getTime();if(this.pointX=r.pageX,this.pointY=r.pageY,this.distX+=a,this.distY+=c,n=o.abs(this.distX),s=o.abs(this.distY),!(h-this.endTime>300&&n<10&&s<10)){if(this.directionLocked||this.options.freeScroll||(n>s+this.options.directionLockThreshold?this.directionLocked="h":s>=n+this.options.directionLockThreshold?this.directionLocked="v":this.directionLocked="n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return void(this.initiated=!1);c=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return void(this.initiated=!1);a=0}a=this.hasHorizontalScroll?a:0,c=this.hasVerticalScroll?c:0,e=this.x+a,i=this.y+c,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+a/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+c/3:i>0?0:this.maxScrollY),this.directionX=a>0?-1:a<0?1:0,this.directionY=c>0?-1:c<0?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),h-this.startTime>300&&(this.startTime=h,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&l.eventType[t.type]===this.initiated){this.options.preventDefault&&!l.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,n=(t.changedTouches?t.changedTouches[0]:t,l.getTime()-this.startTime),s=o.round(this.x),r=o.round(this.y),a=o.abs(s-this.startX),c=o.abs(r-this.startY),h=0,u="";if(this.isInTransition=0,this.initiated=0,this.endTime=l.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(s,r),!this.moved)return this.options.tap&&l.tap(t,this.options.tap),this.options.click&&l.click(t),void this._execEvent("scrollCancel");if(this._events.flick&&n<200&&a<100&&c<100)return void this._execEvent("flick");if(this.options.momentum&&n<300&&(e=this.hasHorizontalScroll?l.momentum(this.x,this.startX,n,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:s,duration:0},i=this.hasVerticalScroll?l.momentum(this.y,this.startY,n,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:r,duration:0},s=e.destination,r=i.destination,h=o.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var d=this._nearestSnap(s,r);this.currentPage=d,h=this.options.snapSpeed||o.max(o.max(o.min(o.abs(s-d.x),1e3),o.min(o.abs(r-d.y),1e3)),300),s=d.x,r=d.y,this.directionX=0,this.directionY=0,u=this.options.bounceEasing}return s!=this.x||r!=this.y?((s>0||s<this.maxScrollX||r>0||r<this.maxScrollY)&&(u=l.ease.quadratic),void this.scrollTo(s,r,h,u)):void this._execEvent("scrollEnd")}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,i=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?i=0:this.y<this.maxScrollY&&(i=this.maxScrollY),(e!=this.x||i!=this.y)&&(this.scrollTo(e,i,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=l.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var i=this._events[t].indexOf(e);i>-1&&this._events[t].splice(i,1)}},_execEvent:function(t){if(this._events[t]){var e=0,i=this._events[t].length;if(i)for(;e<i;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,i,n){t=this.x+t,e=this.y+e,i=i||0,this.scrollTo(t,e,i,n)},scrollTo:function(t,e,i,n){n=n||l.ease.circular,this.isInTransition=this.options.useTransition&&i>0,!i||this.options.useTransition&&n.style?(this._transitionTimingFunction(n.style),this._transitionTime(i),this._translate(t,e)):this._animate(t,e,i,n.fn)},scrollToElement:function(t,e,i,n,s){if(t=t.nodeType?t:this.scroller.querySelector(t)){var r=l.offset(t);r.left-=this.wrapperOffset.left,r.top-=this.wrapperOffset.top,i===!0&&(i=o.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),n===!0&&(n=o.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),r.left-=i||0,r.top-=n||0,r.left=r.left>0?0:r.left<this.maxScrollX?this.maxScrollX:r.left,r.top=r.top>0?0:r.top<this.maxScrollY?this.maxScrollY:r.top,e=void 0===e||null===e||"auto"===e?o.max(o.abs(this.x-r.left),o.abs(this.y-r.top)):e,this.scrollTo(r.left,r.top,e,s)}},_transitionTime:function(t){if(t=t||0,this.scrollerStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.scrollerStyle[l.style.transitionDuration]="0.001s"),this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTime(t)},_transitionTimingFunction:function(t){if(this.scrollerStyle[l.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=o.round(t),e=o.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(t){var i=t?l.removeEvent:l.addEvent,n=this.options.bindToWrapper?this.wrapper:e;i(e,"orientationchange",this),i(e,"resize",this),this.options.click&&i(this.wrapper,"click",this,!0),this.options.disableMouse||(i(this.wrapper,"mousedown",this),i(n,"mousemove",this),i(n,"mousecancel",this),i(n,"mouseup",this)),l.hasPointer&&!this.options.disablePointer&&(i(this.wrapper,l.prefixPointerEvent("pointerdown"),this),i(n,l.prefixPointerEvent("pointermove"),this),i(n,l.prefixPointerEvent("pointercancel"),this),i(n,l.prefixPointerEvent("pointerup"),this)),l.hasTouch&&!this.options.disableTouch&&(i(this.wrapper,"touchstart",this),i(n,"touchmove",this),i(n,"touchcancel",this),i(n,"touchend",this)),i(this.scroller,"transitionend",this),i(this.scroller,"webkitTransitionEnd",this),i(this.scroller,"oTransitionEnd",this),i(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var t,i,n=e.getComputedStyle(this.scroller,null);return this.options.useTransform?(n=n[l.style.transform].split(")")[0].split(", "),t=+(n[12]||n[4]),i=+(n[13]||n[5])):(t=+n.left.replace(/[^-\d.]/g,""),i=+n.top.replace(/[^-\d.]/g,"")),{x:t,y:i}},_initIndicators:function(){function t(t){for(var e=s.indicators.length;e--;)t.call(s.indicators[e])}var e,i=this.options.interactiveScrollbars,n="string"!=typeof this.options.scrollbars,o=[],s=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:r("v",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),o.push(e)),this.options.scrollX&&(e={el:r("h",i,this.options.scrollbars),interactive:i,defaultScrollbars:!0,customStyle:n,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),o.push(e))),this.options.indicators&&(o=o.concat(this.options.indicators));for(var c=o.length;c--;)this.indicators.push(new a(this,o[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){l.addEvent(this.wrapper,"wheel",this),l.addEvent(this.wrapper,"mousewheel",this),l.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){l.removeEvent(this.wrapper,"wheel",this),l.removeEvent(this.wrapper,"mousewheel",this),l.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault(),t.stopPropagation();var e,i,n,s,r=this;if(void 0===this.wheelTimeout&&r._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){r._execEvent("scrollEnd"),r.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return n=this.currentPage.pageX,s=this.currentPage.pageY,e>0?n--:e<0&&n++,i>0?s--:i<0&&s++,void this.goToPage(n,s);n=this.x+o.round(this.hasHorizontalScroll?e:0),s=this.y+o.round(this.hasVerticalScroll?i:0),n>0?n=0:n<this.maxScrollX&&(n=this.maxScrollX),s>0?s=0:s<this.maxScrollY&&(s=this.maxScrollY),this.scrollTo(n,s,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,n,s,r,a=0,c=0,l=0,h=this.options.snapStepX||this.wrapperWidth,u=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=o.round(h/2),n=o.round(u/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,s=0;s>-this.scrollerHeight;)this.pages[a][t]={x:o.max(l,this.maxScrollX),y:o.max(s,this.maxScrollY),width:h,height:u,cx:l-i,cy:s-n},s-=u,t++;l-=h,a++}else for(r=this.options.snap,t=r.length,e=-1;a<t;a++)(0===a||r[a].offsetLeft<=r[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=o.max(-r[a].offsetLeft,this.maxScrollX),s=o.max(-r[a].offsetTop,this.maxScrollY),i=l-o.round(r[a].offsetWidth/2),n=s-o.round(r[a].offsetHeight/2),this.pages[c][e]={x:l,y:s,width:r[a].offsetWidth,height:r[a].offsetHeight,cx:i,cy:n},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=o.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.x-this.startX),1e3),o.min(o.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,n=this.pages.length,s=0;if(o.abs(t-this.absStartX)<this.snapThresholdX&&o.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);i<n;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(n=this.pages[i].length;s<n;s++)if(e>=this.pages[0][s].cy){e=this.pages[0][s].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,i<0?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),s==this.currentPage.pageY&&(s+=this.directionY,s<0?s=0:s>=this.pages[0].length&&(s=this.pages[0].length-1),e=this.pages[0][s].y),{x:t,y:e,pageX:i,pageY:s}},goToPage:function(t,e,i,n){n=n||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:t<0&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:e<0&&(e=0);var s=this.pages[t][e].x,r=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||o.max(o.max(o.min(o.abs(s-this.x),1e3),o.min(o.abs(r-this.y),1e3)),300):i,this.currentPage={x:s,y:r,pageX:t,pageY:e},this.scrollTo(s,r,i,n)},next:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i++,i>=this.pages.length&&this.hasVerticalScroll&&(i=0,n++),this.goToPage(i,n,t,e)},prev:function(t,e){var i=this.currentPage.pageX,n=this.currentPage.pageY;i--,i<0&&this.hasVerticalScroll&&(i=0,n--),this.goToPage(i,n,t,e)},_initKeys:function(t){var n,o={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==i(this.options.keyBindings))for(n in this.options.keyBindings)"string"==typeof this.options.keyBindings[n]&&(this.options.keyBindings[n]=this.options.keyBindings[n].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(n in o)this.options.keyBindings[n]=this.options.keyBindings[n]||o[n];l.addEvent(e,"keydown",this),this.on("destroy",function(){l.removeEvent(e,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,n=i?this.currentPage.pageX:this.x,s=i?this.currentPage.pageY:this.y,r=l.getTime(),a=this.keyTime||0,c=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(o.round(e.x),o.round(e.y)),this.isInTransition=!1),this.keyAcceleration=r-a<200?o.min(this.keyAcceleration+c,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?n+=i?1:this.wrapperWidth:s+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?n-=i?1:this.wrapperWidth:s-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:n=i?this.pages.length-1:this.maxScrollX,s=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:n=0,s=0;break;case this.options.keyBindings.left:n+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:s+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:n-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:s-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return void this.goToPage(n,s);n>0?(n=0,this.keyAcceleration=0):n<this.maxScrollX&&(n=this.maxScrollX,this.keyAcceleration=0),s>0?(s=0,this.keyAcceleration=0):s<this.maxScrollY&&(s=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(n,s,0),this.keyTime=r}},_animate:function(t,e,i,n){function o(){var d,p,f,m=l.getTime();return m>=u?(s.isAnimating=!1,s._translate(t,e),void(s.resetPosition(s.options.bounceTime)||s._execEvent("scrollEnd"))):(m=(m-h)/i,f=n(m),d=(t-r)*f+r,p=(e-a)*f+a,s._translate(d,p),void(s.isAnimating&&c(o)))}var s=this,r=this.x,a=this.y,h=l.getTime(),u=h+i;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":t._constructed||(t.preventDefault(),t.stopPropagation())}}},a.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.interactive&&(l.removeEvent(this.indicator,"touchstart",this),l.removeEvent(this.indicator,l.prefixPointerEvent("pointerdown"),this),l.removeEvent(this.indicator,"mousedown",this),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),l.removeEvent(e,"touchend",this),l.removeEvent(e,l.prefixPointerEvent("pointerup"),this),l.removeEvent(e,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(t){var i=t.touches?t.touches[0]:t;t.preventDefault(),t.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=i.pageX,this.lastPointY=i.pageY,this.startTime=l.getTime(),this.options.disableTouch||l.addEvent(e,"touchmove",this),this.options.disablePointer||l.addEvent(e,l.prefixPointerEvent("pointermove"),this),this.options.disableMouse||l.addEvent(e,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){var e,i,n,o,s=t.touches?t.touches[0]:t;l.getTime();this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=s.pageX-this.lastPointX,this.lastPointX=s.pageX,i=s.pageY-this.lastPointY,this.lastPointY=s.pageY,n=this.x+e,o=this.y+i,this._pos(n,o),t.preventDefault(),t.stopPropagation()},_end:function(t){if(this.initiated){if(this.initiated=!1,t.preventDefault(),t.stopPropagation(),l.removeEvent(e,"touchmove",this),l.removeEvent(e,l.prefixPointerEvent("pointermove"),this),l.removeEvent(e,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),n=this.options.snapSpeed||o.max(o.max(o.min(o.abs(this.scroller.x-i.x),1e3),o.min(o.abs(this.scroller.y-i.y),1e3)),300);this.scroller.x==i.x&&this.scroller.y==i.y||(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,n,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0,this.indicatorStyle[l.style.transitionDuration]=t+"ms",!t&&l.isBadAndroid&&(this.indicatorStyle[l.style.transitionDuration]="0.001s")},transitionTimingFunction:function(t){this.indicatorStyle[l.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.options.listenX&&!this.options.listenY?this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none":this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(l.addClass(this.wrapper,"iScrollBothScrollbars"),l.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(l.removeClass(this.wrapper,"iScrollBothScrollbars"),l.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=o.max(o.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=o.max(o.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&o.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&o.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=o.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=o.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=o.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=o.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[l.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")},_pos:function(t,e){t<0?t=0:t>this.maxPosX&&(t=this.maxPosX),e<0?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?o.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?o.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var i=t?250:500,n=t?0:300;t=t?"1":"0",this.wrapperStyle[l.style.transitionDuration]=i+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),n)}}},s.utils=l,"undefined"!=typeof t&&t.exports?t.exports=s:e.IScroll=s})(window,document,Math)}]);